<html lang="zh_CN"><head><meta charset="utf-8" /><title>Coding like an artist</title><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" /></head><body><div class="navbar navbar-inverse"><div class="container"><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href="/">Home</a></li><li><a href="/index">Blog</a></li><li><a href="/project">Project</a></li><li><a href="/about">About</a></li><li><a href="/feed.atom">Rss</a></li></ul></div></div></div><div class="container"><div class="row row-offcanvas row-offcanvas-right"><div class="col-sm-9"><div id="content"><h1 id="Title">Coding like an artist</h1><p>2017-09-17</p><h2>1. 简约而不简单</h2><p>优雅的代码是一门艺术，更多取决于品味。我喜欢简短，可读的代码。完成同样的功能，使用的代码越短这份代码越优雅。有些人说，我也喜欢写简短的代码，你看：</p><pre><code>while (*s++ = *t++);
</code></pre><p>这种“优雅”作为教科书级别的经典，实在教坏了不少人。且不说前缀加加和后缀加加的语法设计糟点，这里副作用的操作还依赖返回值，我只能呵呵。然而有些人还特别喜欢抠语言的边边角角，以此号称精通某语言，一股阿Q的“茴香豆的茴字有三种写法”的画面就映在脑中。</p><p>还有些人喜欢在if后面省略大括号来少几行代码，或者在有些地方省略else语句以减少几行代码。比如：</p><pre><code>if xxx
  doSome1();
  doSome2()
</code></pre><p>第二个语句本来是满足条件才执行的，结果就直接执行了。又或者这种：</p><pre><code>if xxx {
  if yyy {
      doSome1()
  } else {
      doSome2()
  }
}
</code></pre><p>想着把条件合并了少几个分支少二行代码：</p><pre><code>if xxx &amp;&amp; yyy {
    doSome1()
} else {
    doSome2()
}
</code></pre><p>在xxx为假的条件是不应该执行doSome2的，在这种地方玩小聪明特别容易翻船。这些都不是我说的那种简短和优雅，优雅的代码首先需要是正确的。</p><p>顺便说句，从语言设计的角度，我是支持if必须写全else分支的。为什么呢？在函数式语言里面，没有statement只有expression，所有expression都应该有一个返回值，返回值是要有类型的。对于if，它的then分支和else分支的类型应该是相同的。然而如果if不写else分支，试想这种：</p><pre><code>(set! a (if xxx 1))
</code></pre><p>由于只写了then分支没写else分支，if的返回类型是未知的，到底是int还是空类型呢？于是a的类型也是未知的，这对类型推导很不好。类型系统对于程序的正确性非常重要，so，我支持if不能省略掉else条件。</p><p>当然，这只是针对我自己认为合理的语言设计而言。对于像Go这类传统的语言，那么建议做法是跟着标准风格走。标准的风格应该怎么写呢？<strong>如果要省略else分支，应该将异常分支写到前面，然后用return尽早退出</strong>，像这样子省略else分支：</p><pre><code>if err := xxx; err != nil {
    handle(err)
    return
}
if err := yyy; err != nil {
    handle(err)
    return
}
</code></pre><p>反例写出来是很丑的：</p><pre><code>if err1 := xxx; err1 == nil {
    if err2 := yyy; err2 == nil {
        doSome()
    } else {
        handle(err2)
    }
} else {
    handle(err1)
}
</code></pre><h2>2. 借鉴好的东西</h2><p>不过Go语言里面error处理确实不太好，到处充斥着这样的代码，还是很丑的。让我们思考下如何让错误处理稍微优雅一点。</p><p>下面这个例子，假设我们要从数组里面Unmarshal一个数据结构出来：</p><pre><code>func (l *mvccLock) UnmarshalBinary(data []byte) error {
    buf := bytes.NewBuffer(data)
    err := ReadNumber(buf, &amp;l.startTS)
    if err != nil {
        return errors.Trace(err)
    }
    err = ReadSlice(buf, &amp;l.primary)
    if err != nil {
        return errors.Trace(err)
    }
    err = ReadSlice(buf, &amp;l.value)
    if err != nil {
        return errors.Trace(err)
    }
    err = ReadNumber(buf, &amp;l.op)
    if err != nil {
        return errors.Trace(err)
    }
    err = ReadNumber(buf, &amp;l.ttl)
    if err != nil {
        return errors.Trace(err)
    }
    return nil
}
</code></pre><p>错误处理的逻辑跟正常逻辑是混在一起的，造成阅读干扰。如果定义一个辅助结构，然后把Read实现成它的方法，把error记录成它的内部状态：</p><pre><code>type marshalHelper struct {
    err error
}
func (mh *marshalHelper) ReadNumber(r io.Reader, n interface{}) {
    if mh.err != nil {
        return
    }
    err := binary.Read(r, binary.LittleEndian, n)
    if err != nil {
        mh.err = errors.Trace(err)
    }
}
</code></pre><p>于是我们就可以这样写了：</p><pre><code>func (v *mvccValue) UnmarshalBinary(data []byte) error {
    var mh marshalHelper
    buf := bytes.NewBuffer(data)
    mh.ReadNumber(buf, &amp;v.vt)
    mh.ReadNumber(buf, &amp;v.startTS)
    mh.ReadNumber(buf, &amp;v.commitTS)
    mh.ReadSlice(buf, &amp;v.value)
    return errors.Trace(mh.err)
}
</code></pre><p>注意到没有？丑爆了的error处理消失了，这就优雅多了！这段代码其实是我从项目里面拿的一个真实例子，<a href="https://github.com/pingcap/tidb/blob/d7a92e1e2380e2159f9a01b3efa00f275a0da96e/store/tikv/mock-tikv/mvcc.go#L73">在这里</a>可以看到。</p><p>如果熟习函数式语言并且了解monad的话，其实明眼人是可以看出来的，这里本质上是使用了函数式语言里面的monad的技巧。返回值的类型是</p><pre><code>data result = None | Error of error
</code></pre><p>然后让错误处理走另一条通路了。想了解更多可以看看<a href="https://fsharpforfunandprofit.com/rop/">这里</a>，顺便说句，F# for fun and profit这个系列写的真心不错，强力推荐。</p><h2>3. 语言影响思维模式</h2><p>函数式语言真的是好东西，无论是否使用，都应该看一看，对于写优雅的代码很有帮助。这里的错误处理只是一个例子。很多东西只有在见过之后，大脑才能形成概念，直到有机会把概念用到其它的地方，触类旁通。parser combinator在函数式语言里面是一个非常经典的教程，由于我之前看过，有一次写Go的时候就看到了启发。场景是这样子的，kv存储引擎里面存了mvcc的信息，数据的布局类似这样子：</p><pre><code>// Key layout:
// ...
// Key_lock        -- (0)
// Key_verMax      -- (1)
// ...
// Key_ver+1       -- (2)
// Key_ver         -- (3)
// Key_ver-1       -- (4)
// ...
// Key_0           -- (5)
// NextKey_lock    -- (6)
// NextKey_verMax  -- (7)
// ...
// NextKey_ver+1   -- (8)
// NextKey_ver     -- (9)
// NextKey_ver-1   -- (10)
// ...
// NextKey_0       -- (11)
// ...
// EOF
</code></pre><p>需要从goleveldb里面读取这些东西，解析需要的部分，并且根据是否遇到锁以及版本信息做一些额外的处理。整个代码开始是写的比较恶心的，因为访问要操作一个iterator，然后有一些中间状态的需要存下来，当iterator遍历的操作跟数据处理逻辑耦合之后，代码就很丑了。后来突然灵光一闪：这不是正是可以从parser combinator借鉴的场景么？interator抽象成一个stream，我只需要定义很多小的&quot;parser&quot;，这里是decoder，每个decoder只做一点点事情，比如只解析一下lock数据的decoder，比如只解析一个mvcc value数据的decoder，甚至什么都不解析，只将iterator移到下一个mvcc记录的decoder。然后将它们组合使用，就可以发挥无穷威力。</p><p>定义一个interface，所有的decoder都是实现这个接口，状态相关的存到实现的decoder内部。</p><pre><code>type iterDecoder interface {
    Decode(iter *Iterator) (bool, error)
}
</code></pre><p>函数可以组合但是不能记录状态，而对象是记状态不易组合。monad本质是上把状态记录到了类型里面，来实现带副作用的。</p><p>我从函数式语言那边受了很多启发，很多时候它都教会我写更好的代码。当然，面向对象也有教我很多东西。</p><p>之前我们的<a href="https://github.com/pingcap/tidb/blob/a264f81acc1e69d3f20cb2815873e7659843e675/executor/new_distsql.go#L280">项目里面有一个IndexLookUpExecutor</a>，这个东西做的事情是由多个goroutine并行地从数据库里读索引，解析索引数据，再利用索引数据里面解析出来的信息去并行地读数据库的表数据。这块代码很乱，经常出各种bug，比如退出有goroutine泄漏，或者关闭channel时卡死。一方面原因是逻辑比较复杂，涉及到goroutine的并行，并且状态比较多。另一个更重要原因，就是代码写的烂（陈年老代码，经过很多人的手，逻辑复杂，不敢动，逢改必引入bug，这种代码最让人咬牙切齿）。怎么重构它呢？我仔细分析了复杂性的原因：数据结构内部维护了太多状态。</p><p>那么基于面向对象的思维，将它拆小，IndexLookUpExecutor被做成了indexHandler，tableHandler，每个对象只管理自己的内部状态，goroutine相关的控制也移到对象内部。IndexLookUpExecutor不再关注对象内部的状态，通过方法来交互indexHandler和tableHandler。对象各自管理自己的内部状态，并且状态小了之后，一下子就可维护了。</p><p>其实都是很老生常谈的概念：<strong>模块化。一个函数只做一件事情。高内聚，低耦合。对象内部状态不需要暴露给外面，通过对象的方法交互</strong>。无关设计模式，只是最基本的道理。面向对象的重要道理就是，把状态控制在对象管理的范围之内，函数式那边的答案是类型。</p><p>最好不要成为只精通某一门语言的专家（尤其不要是C艹语言），无论是过程式的，函数式，面向对象的，都多了解一些，有助于知道在合适的时候该使用什么方式才是合理的。语言决定了思维模式，这是真的。拿Go语言来说，如果一直停留在锁这种底层的东西上面，其它语言里即使自己实现一些机制，也没法像goroutine/channel体验到CSP/Actor之些高层思维带来的酸爽。有了语言内置的支持以后，做并发编程的思维完全就进入到了一个更高层的抽象。</p><h2>4. 抽象再抽象</h2><p>记得SICP那本书里面，一直在教人们抽象再抽象，其实这是写好代码非常重要的一环。在编程语言里面，处于抽象的顶点的概念是什么呢？递归。迭代是人，递归是神！</p><p>我们知道，面试的时候可能会要求写一个链表反转，默认会用C语言之类的低级语言。然而如果语言可选，我会拿lisp糊他一脸，你丫的傻逼面试官，教你重新写代码：</p><pre><code>(define reverse
    []      -&gt; []
    [X | Y] -&gt; (append (reverse Y) X))
</code></pre><p>简洁，易读，bug free，这才是优雅呀！</p><p>再说一个排序的例子，我不想说快排，太欺负C语言了。就说冒泡排序吧，正好可以看个不动点的例子。</p><pre><code>(define fix-point1
    F X X -&gt; X
    F X Y -&gt; (fix-point1 F (F X) X))
(define fix-point
    F X -&gt; (fix-point1 F (F X) X))
</code></pre><p>不动点就是，X=F(X)。一个函数对参数执行之后，得到的结果还是那个参数。</p><pre><code>(define bubble
    [] -&gt; []
    [X | Y] -&gt; (bubble1 X Y))
(define bubble1
    X [Y | Z] -&gt; [Y | (bubble1 X Z)] where (&gt; X Y)
    X [Y | Z] -&gt; [X | (bubble1 Y Z)])
</code></pre><p>我们看bubble1这个递归函数，它的功能是将链表冒泡一遍。X和Y分别是链表当前的头节点，如果X大于Y，则交换位置。递归的做这个动作，交换两节点，做一遍就冒泡了一遍。亮点来了...</p><pre><code>(define bubble-sort
    X -&gt; (fix-point bubble X))
</code></pre><p>一遍一遍地冒泡，直到达到一个不动点，排序就OK了。这是我看到过的最漂亮的代码之一！嗯，shen语言看到的例子。</p><p>我给过很多人很高的评价，给过很多项目的代码很高的评价，比如常提到在贵司里面<a href="https://github.com/coocood">@coocood</a>写代码还是挺有节操的，还有包括<a href="https://github.com/iamxy">@iamxy</a>也是，虽然很少写代码了。再比如云风代码非常值得学习下，还有王垠的代码也是写得相当漂亮的（可惜都删了）。一些项目，像lua的源代码，skynet源代码等等都是很值得学习的。但是若说我见过的最优雅的代码，还是<a href="http://www.shenlanguage.org/">shen语言</a>的源代码。我不止一次推崇这份代码了----这真的是艺术家的作品！</p><h2>5. 不要被表达能力束傅</h2><p>写代码是一门艺术，对于艺术家来说，代码的表达能力非常重要。语言的表达能力强，就可以用更简洁的代码完成复杂的功能，代码也就更加的优雅。语言既影响思维方式的，也能阻碍表达的。有些东西在这门语言里面体会不到，非得另一门语言里面才能，这便说明语言同时阻碍了表达。</p><p>表达能力的极致是什么呢？lisp的宏。这是唯一一种不阻碍表达的方式。很多人不喜欢lisp的语法，其实lisp根本没有语法。真正的lisp程序员会创造属于自己的lisp，只有自己按自己的语法表达，才是随心所欲。shen语言真正做到了这一点。</p><p>最初看到 |&gt; 和 &gt;&gt;= 这些符号的时候，简直被惊艳到了。中缀运算符的能力非常强大，像这样写代码：</p><pre><code>x
|&gt; add 1
|&gt; times 2
</code></pre><p>后来发现其实这个操作其实用函数是可以完成的，不需要中缀运行符：</p><pre><code>(fun compose
    X [] -&gt; X
    X [F | Fs] -&gt; (compose Fs (F X)))
(compose x [(add 1) (times 2)])
</code></pre><p>看到模式匹配，觉得是个好东西，其实lisp早就能支持了，一直没注意而已。看到类型系统时觉得，这么好的东西，lisp能不能吸收进来呢？我在shen语言那里得到了答案。</p><p>曾经看过一个20几万行的游戏服务器的代码，真的很不优雅。按理说它完成的功能根本没必要那么大的代码量。原因是它有近一半的代码，全是在处理发包解包，全部手写硬编码的。那个年代还没有protobuf，没有grpc这些东西。假如有DSL，有代码生成器，那这一半的代码都可以干掉了。重复，低效的劳动。</p><p>后来看到shen的YACC惊呆了，100多行不到200行的实现！最惊讶的是它的类型系统居然是用生成代码的方式实现的，只实现了一套逻辑引擎，然后生成类型推导的规则了喂给逻辑引擎，一套类型系统就搞定了。整个项目4000多行代码，在我看来比那20万行代码要多得多。</p></div><div><ul class="pager" /></div></div><div class="col-sm-3" id="sidebar" role="navigation"><div class="well sidebar-nav"><h2 id="nav-pills">Category</h2><ul class="nav nav-pills nav-stacked"><li><a href="/category/编译器">编译器</a></li><li><a href="/category/编程语言">编程语言</a></li><li><a href="/category/高性能服务器">高性能服务器</a></li><li><a href="/category/分布式">分布式</a></li><li><a href="/category/Android游戏开发">Android游戏开发</a></li></ul><h2 id="nav-pills">Tags</h2><a href="/tags/lisp" class="btn btn-info btn-xs">lisp</a><a href="/tags/源代码分析" class="btn btn-info btn-xs">源代码分析</a><a href="/tags/chibi-scheme" class="btn btn-info btn-xs">chibi-scheme</a><a href="/tags/golang" class="btn btn-info btn-xs">golang</a><a href="/tags/rbtree" class="btn btn-info btn-xs">rbtree</a><a href="/tags/mempool" class="btn btn-info btn-xs">mempool</a><a href="/tags/hash" class="btn btn-info btn-xs">hash</a><a href="/tags/task" class="btn btn-info btn-xs">task</a><a href="/tags/协程" class="btn btn-info btn-xs">协程</a><a href="/tags/skynet" class="btn btn-info btn-xs">skynet</a><a href="/tags/beansdb" class="btn btn-info btn-xs">beansdb</a><a href="/tags/actor模型" class="btn btn-info btn-xs">actor模型</a><a href="/tags/lease" class="btn btn-info btn-xs">lease</a><a href="/tags/paxos" class="btn btn-info btn-xs">paxos</a><a href="/tags/面试题" class="btn btn-info btn-xs">面试题</a><a href="/tags/linux" class="btn btn-info btn-xs">linux</a><a href="/tags/org-mode" class="btn btn-info btn-xs">org-mode</a><a href="/tags/blog" class="btn btn-info btn-xs">blog</a><a href="/tags/编码" class="btn btn-info btn-xs">编码</a><a href="/tags/java" class="btn btn-info btn-xs">java</a><a href="/tags/地图编辑器" class="btn btn-info btn-xs">地图编辑器</a><a href="/tags/关卡生成" class="btn btn-info btn-xs">关卡生成</a><a href="/tags/tiled" class="btn btn-info btn-xs">tiled</a><a href="/tags/primitive" class="btn btn-info btn-xs">primitive</a><a href="/tags/scheme" class="btn btn-info btn-xs">scheme</a><a href="/tags/petrescue" class="btn btn-info btn-xs">petrescue</a><a href="/tags/读书笔记" class="btn btn-info btn-xs">读书笔记</a><a href="/tags/eopl" class="btn btn-info btn-xs">eopl</a><a href="/tags/CAS" class="btn btn-info btn-xs">CAS</a><a href="/tags/无锁" class="btn btn-info btn-xs">无锁</a><a href="/tags/数据结构" class="btn btn-info btn-xs">数据结构</a><a href="/tags/FP" class="btn btn-info btn-xs">FP</a><a href="/tags/多值返回" class="btn btn-info btn-xs">多值返回</a><a href="/tags/lambda" class="btn btn-info btn-xs">lambda</a><a href="/tags/AssetManager" class="btn btn-info btn-xs">AssetManager</a><a href="/tags/libgdx" class="btn btn-info btn-xs">libgdx</a><a href="/tags/pprof" class="btn btn-info btn-xs">pprof</a><a href="/tags/微博数据分析" class="btn btn-info btn-xs">微博数据分析</a><a href="/tags/cdn" class="btn btn-info btn-xs">cdn</a><a href="/tags/云风" class="btn btn-info btn-xs">云风</a><a href="/tags/hive" class="btn btn-info btn-xs">hive</a><a href="/tags/调度器" class="btn btn-info btn-xs">调度器</a><a href="/tags/flash" class="btn btn-info btn-xs">flash</a><a href="/tags/planeshift" class="btn btn-info btn-xs">planeshift</a><a href="/tags/分段栈" class="btn btn-info btn-xs">分段栈</a><a href="/tags/terminal" class="btn btn-info btn-xs">terminal</a><a href="/tags/godit" class="btn btn-info btn-xs">godit</a><a href="/tags/转载" class="btn btn-info btn-xs">转载</a><a href="/tags/OpenGL" class="btn btn-info btn-xs">OpenGL</a><a href="/tags/年终总结" class="btn btn-info btn-xs">年终总结</a><a href="/tags/翻译" class="btn btn-info btn-xs">翻译</a><a href="/tags/facebook" class="btn btn-info btn-xs">facebook</a><a href="/tags/编程感悟" class="btn btn-info btn-xs">编程感悟</a><a href="/tags/架构" class="btn btn-info btn-xs">架构</a><a href="/tags/C" class="btn btn-info btn-xs">C</a><a href="/tags/CSP" class="btn btn-info btn-xs">CSP</a><a href="/tags/acme" class="btn btn-info btn-xs">acme</a><a href="/tags/编辑器" class="btn btn-info btn-xs">编辑器</a><a href="/tags/devdraw" class="btn btn-info btn-xs">devdraw</a><a href="/tags/mmorpg" class="btn btn-info btn-xs">mmorpg</a><a href="/tags/ouster" class="btn btn-info btn-xs">ouster</a><a href="/tags/一致性" class="btn btn-info btn-xs">一致性</a><a href="/tags/翻墙" class="btn btn-info btn-xs">翻墙</a><a href="/tags/n6bagent" class="btn btn-info btn-xs">n6bagent</a><a href="/tags/性能优化" class="btn btn-info btn-xs">性能优化</a><a href="/tags/继承" class="btn btn-info btn-xs">继承</a><a href="/tags/接口" class="btn btn-info btn-xs">接口</a><a href="/tags/DSP" class="btn btn-info btn-xs">DSP</a><a href="/tags/aerospike" class="btn btn-info btn-xs">aerospike</a><a href="/tags/kv" class="btn btn-info btn-xs">kv</a><a href="/tags/ssd" class="btn btn-info btn-xs">ssd</a><a href="/tags/raft" class="btn btn-info btn-xs">raft</a><a href="/tags/overcommit" class="btn btn-info btn-xs">overcommit</a><a href="/tags/nosql" class="btn btn-info btn-xs">nosql</a><a href="/tags/coroutine" class="btn btn-info btn-xs">coroutine</a><a href="/tags/plan9" class="btn btn-info btn-xs">plan9</a><a href="/tags/grt" class="btn btn-info btn-xs">grt</a><a href="/tags/database" class="btn btn-info btn-xs">database</a><a href="/tags/垃圾回收" class="btn btn-info btn-xs">垃圾回收</a><a href="/tags/lambda演算" class="btn btn-info btn-xs">lambda演算</a><a href="/tags/网络编程" class="btn btn-info btn-xs">网络编程</a><a href="/tags/epoll" class="btn btn-info btn-xs">epoll</a><a href="/tags/select" class="btn btn-info btn-xs">select</a><a href="/tags/io模型" class="btn btn-info btn-xs">io模型</a><a href="/tags/阻塞" class="btn btn-info btn-xs">阻塞</a><a href="/tags/同步" class="btn btn-info btn-xs">同步</a><a href="/tags/dynomite" class="btn btn-info btn-xs">dynomite</a><a href="/tags/session" class="btn btn-info btn-xs">session</a><a href="/tags/beego" class="btn btn-info btn-xs">beego</a><a href="/tags/codis" class="btn btn-info btn-xs">codis</a><a href="/tags/ycombinator" class="btn btn-info btn-xs">ycombinator</a><a href="/tags/热重启" class="btn btn-info btn-xs">热重启</a><a href="/tags/跳表" class="btn btn-info btn-xs">跳表</a><a href="/tags/skiplist" class="btn btn-info btn-xs">skiplist</a><a href="/tags/监控" class="btn btn-info btn-xs">监控</a><a href="/tags/zipkin" class="btn btn-info btn-xs">zipkin</a><a href="/tags/influxdb" class="btn btn-info btn-xs">influxdb</a><a href="/tags/heka" class="btn btn-info btn-xs">heka</a><a href="/tags/分布式跟踪" class="btn btn-info btn-xs">分布式跟踪</a><a href="/tags/bug" class="btn btn-info btn-xs">bug</a><a href="/tags/gorilla" class="btn btn-info btn-xs">gorilla</a><a href="/tags/middleware" class="btn btn-info btn-xs">middleware</a><a href="/tags/http" class="btn btn-info btn-xs">http</a><a href="/tags/object" class="btn btn-info btn-xs">object</a><a href="/tags/closure" class="btn btn-info btn-xs">closure</a><a href="/tags/nanopass" class="btn btn-info btn-xs">nanopass</a><a href="/tags/位运算" class="btn btn-info btn-xs">位运算</a><a href="/tags/swapcontext" class="btn btn-info btn-xs">swapcontext</a><a href="/tags/汇编" class="btn btn-info btn-xs">汇编</a><a href="/tags/trampoline" class="btn btn-info btn-xs">trampoline</a><a href="/tags/cps" class="btn btn-info btn-xs">cps</a><a href="/tags/continuation" class="btn btn-info btn-xs">continuation</a><a href="/tags/callback" class="btn btn-info btn-xs">callback</a><a href="/tags/closure-convert" class="btn btn-info btn-xs">closure-convert</a><a href="/tags/redis" class="btn btn-info btn-xs">redis</a><a href="/tags/逻辑时钟" class="btn btn-info btn-xs">逻辑时钟</a><a href="/tags/logical clock" class="btn btn-info btn-xs">logical clock</a><a href="/tags/服务发现" class="btn btn-info btn-xs">服务发现</a><a href="/tags/配置中心" class="btn btn-info btn-xs">配置中心</a><a href="/tags/chicken" class="btn btn-info btn-xs">chicken</a><a href="/tags/调试" class="btn btn-info btn-xs">调试</a><a href="/tags/VM" class="btn btn-info btn-xs">VM</a><a href="/tags/srfi-18" class="btn btn-info btn-xs">srfi-18</a><a href="/tags/call/cc" class="btn btn-info btn-xs">call/cc</a><a href="/tags/p2p" class="btn btn-info btn-xs">p2p</a><a href="/tags/delivery" class="btn btn-info btn-xs">delivery</a><a href="/tags/动态规划" class="btn btn-info btn-xs">动态规划</a><a href="/tags/网络" class="btn btn-info btn-xs">网络</a><a href="/tags/lua" class="btn btn-info btn-xs">lua</a><a href="/tags/sql" class="btn btn-info btn-xs">sql</a><a href="/tags/cockroachdb" class="btn btn-info btn-xs">cockroachdb</a><a href="/tags/isolation" class="btn btn-info btn-xs">isolation</a><a href="/tags/snapshot" class="btn btn-info btn-xs">snapshot</a><a href="/tags/serializable" class="btn btn-info btn-xs">serializable</a><a href="/tags/链表" class="btn btn-info btn-xs">链表</a><a href="/tags/ltask" class="btn btn-info btn-xs">ltask</a><a href="/tags/channel" class="btn btn-info btn-xs">channel</a><a href="/tags/leetcode" class="btn btn-info btn-xs">leetcode</a><a href="/tags/Rust" class="btn btn-info btn-xs">Rust</a><a href="/tags/socket" class="btn btn-info btn-xs">socket</a><a href="/tags/interpret" class="btn btn-info btn-xs">interpret</a><a href="/tags/可串行化" class="btn btn-info btn-xs">可串行化</a><a href="/tags/spanner" class="btn btn-info btn-xs">spanner</a><a href="/tags/分布式" class="btn btn-info btn-xs">分布式</a><a href="/tags/transaction" class="btn btn-info btn-xs">transaction</a><a href="/tags/SQL" class="btn btn-info btn-xs">SQL</a><a href="/tags/parser" class="btn btn-info btn-xs">parser</a><a href="/tags/内存池" class="btn btn-info btn-xs">内存池</a><a href="/tags/allocator" class="btn btn-info btn-xs">allocator</a><a href="/tags/combinator" class="btn btn-info btn-xs">combinator</a><a href="/tags/monad" class="btn btn-info btn-xs">monad</a><a href="/tags/ocaml" class="btn btn-info btn-xs">ocaml</a><a href="/tags/abstract machine" class="btn btn-info btn-xs">abstract machine</a><a href="/tags/ZINC" class="btn btn-info btn-xs">ZINC</a><a href="/tags/currying" class="btn btn-info btn-xs">currying</a><a href="/tags/type infer" class="btn btn-info btn-xs">type infer</a><a href="/tags/HM" class="btn btn-info btn-xs">HM</a><a href="/tags/类型系统" class="btn btn-info btn-xs">类型系统</a><a href="/tags/leak" class="btn btn-info btn-xs">leak</a><a href="/tags/reset" class="btn btn-info btn-xs">reset</a><a href="/tags/shift" class="btn btn-info btn-xs">shift</a><a href="/tags/delimited" class="btn btn-info btn-xs">delimited</a><a href="/tags/dectect" class="btn btn-info btn-xs">dectect</a><a href="/tags/race" class="btn btn-info btn-xs">race</a><a href="/tags/schema" class="btn btn-info btn-xs">schema</a><a href="/tags/hybrid logical clock" class="btn btn-info btn-xs">hybrid logical clock</a><a href="/tags/memory" class="btn btn-info btn-xs">memory</a><a href="/tags/TiDB" class="btn btn-info btn-xs">TiDB</a><a href="/tags/pattern match" class="btn btn-info btn-xs">pattern match</a><a href="/tags/shen" class="btn btn-info btn-xs">shen</a><a href="/tags/context" class="btn btn-info btn-xs">context</a><a href="/tags/缤果盒子" class="btn btn-info btn-xs">缤果盒子</a><a href="/tags/variant" class="btn btn-info btn-xs">variant</a><a href="/tags/pool" class="btn btn-info btn-xs">pool</a><a href="/tags/goroutine" class="btn btn-info btn-xs">goroutine</a><a href="/tags/morestack" class="btn btn-info btn-xs">morestack</a><a href="/tags/RC" class="btn btn-info btn-xs">RC</a><a href="/tags/SI" class="btn btn-info btn-xs">SI</a><a href="/tags/opentracing" class="btn btn-info btn-xs">opentracing</a><a href="/tags/klambda" class="btn btn-info btn-xs">klambda</a><a href="/tags/优化" class="btn btn-info btn-xs">优化</a><a href="/tags/Cello" class="btn btn-info btn-xs">Cello</a><a href="/tags/fat pointer" class="btn btn-info btn-xs">fat pointer</a><a href="/tags/eval" class="btn btn-info btn-xs">eval</a><a href="/tags/ddl" class="btn btn-info btn-xs">ddl</a><a href="/tags/codegen" class="btn btn-info btn-xs">codegen</a><a href="/tags/expression" class="btn btn-info btn-xs">expression</a><a href="/tags/erlang" class="btn btn-info btn-xs">erlang</a><a href="/tags/withcancel" class="btn btn-info btn-xs">withcancel</a><a href="/tags/constant propagate" class="btn btn-info btn-xs">constant propagate</a><a href="/tags/KISS" class="btn btn-info btn-xs">KISS</a><a href="/tags/性能" class="btn btn-info btn-xs">性能</a><a href="/tags/macro" class="btn btn-info btn-xs">macro</a><a href="/tags/hygiene" class="btn btn-info btn-xs">hygiene</a><a href="/tags/er-macro-transform" class="btn btn-info btn-xs">er-macro-transform</a><a href="/tags/cora" class="btn btn-info btn-xs">cora</a><a href="/tags/module" class="btn btn-info btn-xs">module</a><a href="/tags/错误处理" class="btn btn-info btn-xs">错误处理</a><a href="/tags/contract" class="btn btn-info btn-xs">contract</a><a href="/tags/union store" class="btn btn-info btn-xs">union store</a><a href="/tags/calvin" class="btn btn-info btn-xs">calvin</a><a href="/tags/bytecode" class="btn btn-info btn-xs">bytecode</a><a href="/tags/JVM" class="btn btn-info btn-xs">JVM</a><a href="/tags/aurora" class="btn btn-info btn-xs">aurora</a><a href="/tags/tidb" class="btn btn-info btn-xs">tidb</a><a href="/tags/vm" class="btn btn-info btn-xs">vm</a><a href="/tags/executor" class="btn btn-info btn-xs">executor</a><a href="/tags/covariance" class="btn btn-info btn-xs">covariance</a><a href="/tags/GC" class="btn btn-info btn-xs">GC</a><a href="/tags/oberon" class="btn btn-info btn-xs">oberon</a><a href="/tags/sysbench" class="btn btn-info btn-xs">sysbench</a><a href="/tags/effect" class="btn btn-info btn-xs">effect</a><a href="/tags/await" class="btn btn-info btn-xs">await</a><a href="/tags/async" class="btn btn-info btn-xs">async</a><a href="/tags/promise" class="btn btn-info btn-xs">promise</a><a href="/tags/interface" class="btn btn-info btn-xs">interface</a><a href="/tags/privilege" class="btn btn-info btn-xs">privilege</a><a href="/tags/test" class="btn btn-info btn-xs">test</a><a href="/tags/inferno" class="btn btn-info btn-xs">inferno</a><a href="/tags/microKanren" class="btn btn-info btn-xs">microKanren</a><a href="/tags/miniKanren" class="btn btn-info btn-xs">miniKanren</a><a href="/tags/zenlife" class="btn btn-info btn-xs">zenlife</a><a href="/tags/domain" class="btn btn-info btn-xs">domain</a><a href="/tags/HLC" class="btn btn-info btn-xs">HLC</a><a href="/tags/distributed" class="btn btn-info btn-xs">distributed</a><a href="/tags/deadlock" class="btn btn-info btn-xs">deadlock</a><a href="/tags/encrypt" class="btn btn-info btn-xs">encrypt</a><a href="/tags/authentication" class="btn btn-info btn-xs">authentication</a><a href="/tags/binlog" class="btn btn-info btn-xs">binlog</a><a href="/tags/probability" class="btn btn-info btn-xs">probability</a><a href="/tags/hotspot" class="btn btn-info btn-xs">hotspot</a><a href="/tags/makefile" class="btn btn-info btn-xs">makefile</a><a href="/tags/cache" class="btn btn-info btn-xs">cache</a><a href="/tags/ffi" class="btn btn-info btn-xs">ffi</a><a href="/tags/itx" class="btn btn-info btn-xs">itx</a><a href="/tags/prepare" class="btn btn-info btn-xs">prepare</a><a href="/tags/code review" class="btn btn-info btn-xs">code review</a><a href="/tags/darkeden" class="btn btn-info btn-xs">darkeden</a><a href="/tags/dependent" class="btn btn-info btn-xs">dependent</a><a href="/tags/type" class="btn btn-info btn-xs">type</a><a href="/tags/koka" class="btn btn-info btn-xs">koka</a><a href="/tags/引用计数" class="btn btn-info btn-xs">引用计数</a><a href="/tags/algebraic effect" class="btn btn-info btn-xs">algebraic effect</a><a href="/tags/RWMutex" class="btn btn-info btn-xs">RWMutex</a><a href="/tags/软件工程" class="btn btn-info btn-xs">软件工程</a><a href="/tags/开发环境" class="btn btn-info btn-xs">开发环境</a><a href="/tags/code generation" class="btn btn-info btn-xs">code generation</a><a href="/tags/CI" class="btn btn-info btn-xs">CI</a><a href="/tags/regex" class="btn btn-info btn-xs">regex</a><a href="/tags/PEG" class="btn btn-info btn-xs">PEG</a><a href="/tags/architecture" class="btn btn-info btn-xs">architecture</a><a href="/tags/cloud native" class="btn btn-info btn-xs">cloud native</a><a href="/tags/gambit" class="btn btn-info btn-xs">gambit</a><a href="/tags/ebpf" class="btn btn-info btn-xs">ebpf</a><a href="/tags/bpftrace" class="btn btn-info btn-xs">bpftrace</a><a href="/tags/流控" class="btn btn-info btn-xs">流控</a><a href="/tags/oom" class="btn btn-info btn-xs">oom</a><a href="/tags/severless" class="btn btn-info btn-xs">severless</a><a href="/tags/coprocessor" class="btn btn-info btn-xs">coprocessor</a><a href="/tags/treadmill" class="btn btn-info btn-xs">treadmill</a><a href="/tags/MVCC" class="btn btn-info btn-xs">MVCC</a><a href="/tags/hole digging" class="btn btn-info btn-xs">hole digging</a><a href="/tags/NAT" class="btn btn-info btn-xs">NAT</a><a href="/tags/reverse proxying" class="btn btn-info btn-xs">reverse proxying</a><a href="/tags/tunnel" class="btn btn-info btn-xs">tunnel</a><a href="/tags/累积分布函数" class="btn btn-info btn-xs">累积分布函数</a><a href="/tags/eCDF" class="btn btn-info btn-xs">eCDF</a><a href="/tags/SEDA" class="btn btn-info btn-xs">SEDA</a><a href="/tags/top-of-stack-caching" class="btn btn-info btn-xs">top-of-stack-caching</a><a href="/tags/exception" class="btn btn-info btn-xs">exception</a><a href="/tags/resumable" class="btn btn-info btn-xs">resumable</a><a href="/tags/string" class="btn btn-info btn-xs">string</a><a href="/tags/ActivityPub" class="btn btn-info btn-xs">ActivityPub</a><a href="/tags/mastodon" class="btn btn-info btn-xs">mastodon</a><a href="/tags/schedule" class="btn btn-info btn-xs">schedule</a><a href="/tags/concurrent" class="btn btn-info btn-xs">concurrent</a><a href="/tags/lru" class="btn btn-info btn-xs">lru</a><a href="/tags/scale" class="btn btn-info btn-xs">scale</a><a href="/tags/recursive" class="btn btn-info btn-xs">recursive</a><a href="/tags/patch" class="btn btn-info btn-xs">patch</a><a href="/tags/go" class="btn btn-info btn-xs">go</a><a href="/tags/bazel" class="btn btn-info btn-xs">bazel</a><a href="/tags/union scan" class="btn btn-info btn-xs">union scan</a><a href="/tags/technical debt" class="btn btn-info btn-xs">technical debt</a><a href="/tags/library" class="btn btn-info btn-xs">library</a><a href="/tags/framework" class="btn btn-info btn-xs">framework</a><a href="/tags/queueing delay" class="btn btn-info btn-xs">queueing delay</a><a href="/tags/queueing theory" class="btn btn-info btn-xs">queueing theory</a><a href="/tags/queueing" class="btn btn-info btn-xs">queueing</a><a href="/tags/threaded-code" class="btn btn-info btn-xs">threaded-code</a><a href="/tags/jit" class="btn btn-info btn-xs">jit</a><a href="/tags/copy-and-patch" class="btn btn-info btn-xs">copy-and-patch</a><a href="/tags/fips" class="btn btn-info btn-xs">fips</a><a href="/tags/delimited-continuation" class="btn btn-info btn-xs">delimited-continuation</a><a href="/tags/tailfication" class="btn btn-info btn-xs">tailfication</a><a href="/tags/clean code" class="btn btn-info btn-xs">clean code</a><a href="/tags/design" class="btn btn-info btn-xs">design</a><a href="/tags/AI" class="btn btn-info btn-xs">AI</a><a href="/tags/软件事务内存" class="btn btn-info btn-xs">软件事务内存</a><a href="/tags/STM" class="btn btn-info btn-xs">STM</a><a href="/tags/debugger" class="btn btn-info btn-xs">debugger</a><a href="/tags/namebase" class="btn btn-info btn-xs">namebase</a><a href="/tags/r7rs" class="btn btn-info btn-xs">r7rs</a><a href="/tags/namespace" class="btn btn-info btn-xs">namespace</a><a href="/tags/package" class="btn btn-info btn-xs">package</a><a href="/tags/mark-sweep" class="btn btn-info btn-xs">mark-sweep</a><a href="/tags/mostly-copying" class="btn btn-info btn-xs">mostly-copying</a><a href="/tags/tailcall" class="btn btn-info btn-xs">tailcall</a><a href="/tags/cml" class="btn btn-info btn-xs">cml</a><a href="/tags/type checker" class="btn btn-info btn-xs">type checker</a><a href="/tags/gc" class="btn btn-info btn-xs">gc</a><a href="/tags/am40" class="btn btn-info btn-xs">am40</a><a href="/tags/旁路由" class="btn btn-info btn-xs">旁路由</a><a href="/tags/nas" class="btn btn-info btn-xs">nas</a><a href="/tags/tracing" class="btn btn-info btn-xs">tracing</a><a href="/tags/multicore" class="btn btn-info btn-xs">multicore</a><a href="/tags/concurrency" class="btn btn-info btn-xs">concurrency</a><a href="/tags/rust" class="btn btn-info btn-xs">rust</a><a href="/tags/cranelift" class="btn btn-info btn-xs">cranelift</a><a href="/tags/c" class="btn btn-info btn-xs">c</a></div></div></div></div><hr /><footer><p class="nav navbar-nav navbar-right">Powered by <a href="https://clojure.org/">Clojure</a> &amp; <a href="//getbootstrap.com/">Bootstrap</a></p></footer></body></html>
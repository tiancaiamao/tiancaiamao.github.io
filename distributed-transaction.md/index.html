<html lang="zh_CN"><head><meta charset="utf-8" /><title>聊聊实现分布式事务</title><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" /></head><body><div class="navbar navbar-inverse"><div class="container"><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href="/">Home</a></li><li><a href="/index">Blog</a></li><li><a href="/project">Project</a></li><li><a href="/about">About</a></li><li><a href="/feed.atom">Rss</a></li></ul></div></div></div><div class="container"><div class="row row-offcanvas row-offcanvas-right"><div class="col-sm-9"><div id="content"><h1 id="Title">聊聊实现分布式事务</h1><p>2016-05-19</p><p>可串行化是指多个事务并发执行的结果，能够等价于<strong>某一个</strong>串行执行结果。</p><p>多个事务访问同一个对象，可能出现依赖关系。如果事务T1先写A，事务T2再读A，那么T2依赖T1。把这些依赖关系整理出来用数据结构中的图表示，其中顶点代表事务，边代表依赖关系。比如T2依赖T1则图中有一条从T1到T2的边。这样的一张图，叫做&quot;可串行化图&quot;。</p><p>多个事务并行执行的history，画出可串行化图。可串行化隔离级别，等价于可串行化图中不会形成环路。</p><p>只读事务之间，是不会发生冲突的。只有读写或者写写的事务才会冲突。冲突有多种形式：读写冲突，写读冲突，写写冲突。这里分别就用RW/WR/WW表示。如果觉得“冲突”这个词用得不好，我们可以换成“不安全的并发”。</p><p>读写(RW)：事务T1先于T2，但T1读到了T2写的值，而不是T2写之前的值。这是一个“读未提交”。</p><p>写读(WR)：事务T1先于T2，T1写了一个值，T2读到的不是T1写的值而是更早的值。这是一个“读脏”。</p><p>写写(WW)：事务T1先于T2，两个都提交后，观察到的是T1写的那个值。这个是“丢失写”。</p><p><strong>事务实现可串行化隔离级别的核心是阻止可串行化图中出现环。</strong></p><hr /><p>接下来的这部分，讨论的是避免可串行化图中出现环的一种实现方式。</p><p>为每个事务分配一个版本。版本用来比较事务发生的谁先谁后。注意的是属于该事务的所有操作，都是这个版本。</p><p>这里用'版本'这个词，而不是时间戳，是怕误导大家的理解。其实是同一个概念，只是时间戳很容易联想到分布式系统的物理时钟，会有“时钟漂移”的问题。如果我说“大家要把时间戳理解是逻辑上的先后，物理时钟不能用来比较先后”，说法又不太严谨。干脆用'版本'。</p><p>同一个版本内的操作跨度的物理时间可能很长，因为事务从创建到提交要完成一系列的操作，会持续一段时间。但是这个事务执行的所有的操作，我们都是用创建时的版本来比较先后。</p><p>假设事件发生的真实时序：T1创建；T2创建；T2操作；T1操作；但我们比较的时候仍然会说T1操作是先于T2操作的。因为我们比较操作的先后用的是'版本'而不是时间。所有操作发生的时间，都是操作所属事务的'版本'创建时间。这里不容易理解。
注意事务是在创建时分配版本，而不是提交时，这也是一个要澄清的点。</p><p>这个算法阻止成环的方式就是避免与&quot;将来&quot;发生RW/WR/WW冲突，只有单向就不会成环了。我们具体的一个一个看。</p><p>读写：把最近一次的读操作的'版本'缓存下来。执行写操都要做判断，写的版本跟最近一次读操作版本的先后关系。如果读操作的版本比当前的写操作新，那么就是检测到RW冲突了。处理冲突的方式，需要abort掉冲突事务中的一个。</p><p>写读：数据都是MVCC的，每次写操作不会覆盖数据而是加一个版本。读操作总是读到版本时间小于它的最后一次写。</p><p>写写：写数据时遇到版本比自己更新的写操作，则意味着检测到了写写冲突。解决方式仍然是abort掉其中一个。</p><p><strong>通过避免与“将来”发生RW/WR/WW冲突，来破坏可串行化图成环的条件。</strong></p><hr /><p>上面的讨论只是在满足一个假设的条件下是成立的。其实忽略了一个场景，即事务不一定都会提交。</p><p>我们看写读。上面说读操作要读版本早于自己的最后一次写，这个说法有问题。分两种情况：</p><ol><li>我们读了最后一次写数据，但是这个写操作的事务最后abort掉，写并没提交，那我们就读未提交了。</li><li>我们不要读最后一次写数据，而是读更早的已提交数据。但是最后一次写操作的事务成功了，那我们就读脏了。</li></ol><p>这两种情况意味着，最后一次写数据我们读或者不读，都不行。因为现在还无法确定它将来会commit还是abort。怎么办呢？两种办法。一种是等！等写的结果出来，能确认最终状态了，就可以知道应该读到什么数据。另一种是不等，那就是abort掉冲突两者中的一个了。这分别是悲观和乐观的并发控制。</p><p>这里我们采用的方式是不等，abort掉了重启事务。读操作总是读最后一个已提交的值。如果发现有未提交的写，并且版本在这次读操作之前，则abort掉一个。写操作也是类似的，只允许覆盖已提交的数据，如果遇到尚未提交的写，则要处理冲突。</p><p>冲突的时候，具体的abort哪一个事务会用一个算法，加入一定随机性，并且被abort多次以后它不被abort的概率应该升高，这样保证事务不会永远执行不成功。</p><p><strong>冲突有时不可避免，简单版本算法我们会abort冲突事务</strong></p><hr /><p>级联的abort在这里应该是不会遇到，因为有多版本不会依赖未提交的写。前面说了可串行化的关键是无环，说了一个如何避免成环的算法以及如何处理冲突，接下来说一点实现相关的东西。</p><p>首先是事务状态。每个事务开始时都会建一个自己的记录，维护当前事务的状态。事务的状态可能是PENDING的，COMMIT或者ABORT的。PENDING是进行中的事务，后面两种是结束的事务。这个状态变量是一个最小粒度的记录，底层可以用raft之类的协议来保证一致性，做一个原子的提交。其实这个动作就是两阶段提交，第二阶段的提交操作：原子地改一个事务的记录状态，从PENDING到COMMIT，当然也可以是ABORT。</p><p>那前面从创建事务记录，到事务的各种操作，只要是不冲突都是可以进行下去的。这些过程其实就是两阶段提交的第一阶段，准备阶段。由于所有的写操作都是带版本的写，而不会覆盖原数据，事务之间是不会相互影响的。提交失败的也不需要专门做回滚，那些ABORT的事务制造的数据，周期性地做清理就行了。</p><p>对于OLTL类的数据库，可以让写不影响读，读总是读到最后一次已提交的版本，写事务在最后提交时刻如果检测到冲突就ABORT掉，读的吞吐就可以很高。</p><p>事务状态是用来做两阶段提交的，知识一定不要学得太死，提交仅仅就是改一个状态而已，两阶段提交也并不意味着吞吐低。</p><p>接下来是写意向(write intent)。事务去写一个数据时，不是直接的修改，是留下一个写的意向。意向要留在数据上面，并且有事务自己版本信息(其实就是多版本的概念)。这样子，当其它事务读或者写操作，遇到这个意向，它就知道有事务也正在操作相同的数据，需要避免冲突。</p><p>再澄清的概念是关于锁。锁是一个概念上的东西，大致就是用来对某个受保护东西提供排它性访问。如果从这个角度，我们可以说目前的读写操作都是无锁的。但是呢，当一个事务操作执行时遇到数据上存在写意向，那它面临着操作冲突。前面说过了解决冲突，一种是等，另一种是abort事务。如果采用的是等，那是不是又等价于锁的概念了呢？等价于“这个资源被锁保护了，我需要等待锁被释放”。如果是abort，大家可以类比CAS的概念，不断重试直到不发生冲突，这又是无锁了。所以说，锁是一个概念上的东西，知识不要学得太死。</p><hr /><p>然后讨论时间。</p><p>前面说过了，每个事务都要分配一个'版本'，版本其实是时间戳。分布式系统里面，各台机器之前的时钟是无法保证同步的，因此无法直接使用本地时钟。</p><p>一种方式是timestap oracle。其实就是用中心化的时钟服务器来分配版本。当然有它不好的地方，单点问题和性能问题。好的地方就是容易理解。前文部分说的都是说的用中心化的时间做版本，应该很好看懂。</p><p>在之前的基础上，我们想优化两个点：一个是只读事务永不阻塞；另一个是去掉中心化时钟。</p><p>先说如何让只读事务不被阻塞。前面假定的是事务在创建的时候会分配一个时间戳(之前用的'版本'，从现在开始可以用时间戳这个词了)，用它来比较操作的先后。这个时间戳一旦分配了就不会变。现在我们去掉这个限制，即，事务分配的时间戳是可以变的。现在我们先假设机器之间时钟是一致的，然后我们可以使用本地时钟了。</p><p>前面说写读冲突，当读操作发现在它之前有未提交写就是冲突了，解决冲突有两种，一种是等，另一种是abort。当时我们说的是采用abort。去掉事务时间戳不可变的限制以后，我们有了另一种处理办法：把冲突的写操作的那个事务时间戳往后推。这其实是等的一种变种，不过不是让读操作等写操作提交，而是读操作不阻塞，推迟写操作。</p><p>理解'把事务的时间戳往后推'特别关键，这句话好好读几遍。可串行化要求的是和某一种串行执行的顺序等价，至于和哪一种等价我们并不介意。一个包含写操作的事务可能由于时间戳被推过很多次，推过之后顺序就跟创建事务时变了，不过没关系。如果事务T1读到了T2写的值，那么T1的时间戳肯定是大于T2的，即使T1事务其实先于T2启动：可能是这种情况，T1启动，T2启动，T2写操作，T1发现T2已写但尚未提交的数据，于是把T2的事务时间戳推后。</p><p>可以把事务时间戳往后推之后，我们达到了这种效果：读操作永不阻塞，也不会因为跟写操作冲突而被abort。写可能需要等待读，或者被abort。事务的提交时间戳将是被推多次后最终那个时间戳。我们完成了第一个优化，只读事务不阻塞。接着再看第二个优化，机器之间时钟其实是有漂移的时候，如何使用本地时钟。</p><p>Google的TrueTime，这是个很屌东西，它就是用本地机器上的物理时钟来比较时序。能这么做是因为它用硬件保证了，各机器之间的误差在一个上限，大概是前后7ms的样子。有了这个保证之后，比如说我们看到一个事务A的时间戳比事务B小了7ms以上，那事务A肯定是比B先的。再比如说读事务遇到了冲突的写，我们将写的那个事务时间戳推到未来的7ms之后，它就肯定是在读后面了。算法上其实用NTP也能做，但是NTP的时间误差上限保证不了，或者说为了处理时间戳先后问题要等几百毫秒，那性能就不可接受了。</p><p>我们看一看可以推事务的时间戳，使用本地时钟以后，现在RW/WR/WW冲突是怎么样的。</p><ul><li>读操作遇到了写的时间戳在遥远的将来，可安全地读，无冲突。</li><li>读操作遇到了写在较近的将来，这种情况要小心，因为考虑到时钟漂移，写操作可能其实已经发生了。所以只好abort掉这个写事务了。</li><li>读操作遇到写，时间戳在过去。我们需要查事务的状态，如果是已提交，那么就读到这个值。如果是未提交，那么可以把这个写的时间戳往后推。</li><li>写遇到未提交的写，那肯定是冲突，要abort掉其中一个的。</li><li>写遇到已提交的写，并且对方时间戳比自己新。abort自己，重启。</li><li>写遇到了时间戳在将来的读，把自己推到读时间戳之后。</li></ul><p>还有一个问题是如何为只读事务选取一个时间戳。我们需要读的时间戳，大于所有已提交的包含写的事务的时间戳，这样才能保证读到一个安全的快照。那么会遇到一个问题是读需要等待，等待到真实时间走到比已知的最大时间戳大7ms。</p><p>我们不想让读等待，有一种变通的处理办法是推后写事务的提交时间，即本来写已经完成了并提交了，但是会推迟一点点才释放锁。亦是指本来事务完成的时间是T，但是记录事务的完成时间戳会是T+7ms，这样就可以消除时钟漂移的影响，读可以直接用本地时间读不用等待。</p><p>以上就是<strong>去掉了中心化的时钟，允许推事务时间戳以后的算法</strong>，实现了只读事务不阻塞。</p><hr /><p>最后是本文的总结。本文是关于分布式事务的实现，其实是Google的Spanner那一套。从简单的可串行化开始，接着用预先分配事务时间戳的算法来帮助理解，然后去掉中心化时钟的限制，讲了一个读不阻塞的可串行化的分布式事务。</p><ul><li>事务实现可串行化隔离级别的核心是阻止可串行化图中出现环</li><li>通过避免与“将来”发生RW/WR/WW冲突，来破坏可串行化图成环的条件</li><li>冲突有时不可避免，简单版本算法我们会abort冲突事务</li><li>复杂版去掉了中心化的时钟，允许推事务时间戳以后，实现了只读事务不阻塞</li></ul></div><div><a href="/tags/可串行化" class="btn btn-info btn-xs">可串行化</a><a href="/tags/spanner" class="btn btn-info btn-xs">spanner</a><a href="/tags/分布式" class="btn btn-info btn-xs">分布式</a><a href="/tags/transaction" class="btn btn-info btn-xs">transaction</a><ul class="pager" /></div></div><div class="col-sm-3" id="sidebar" role="navigation"><div class="well sidebar-nav"><h2 id="nav-pills">Category</h2><ul class="nav nav-pills nav-stacked"><li><a href="/category/编译器">编译器</a></li><li><a href="/category/编程语言">编程语言</a></li><li><a href="/category/高性能服务器">高性能服务器</a></li><li><a href="/category/分布式">分布式</a></li><li><a href="/category/Android游戏开发">Android游戏开发</a></li></ul><h2 id="nav-pills">Tags</h2><a href="/tags/lisp" class="btn btn-info btn-xs">lisp</a><a href="/tags/源代码分析" class="btn btn-info btn-xs">源代码分析</a><a href="/tags/chibi-scheme" class="btn btn-info btn-xs">chibi-scheme</a><a href="/tags/golang" class="btn btn-info btn-xs">golang</a><a href="/tags/rbtree" class="btn btn-info btn-xs">rbtree</a><a href="/tags/mempool" class="btn btn-info btn-xs">mempool</a><a href="/tags/hash" class="btn btn-info btn-xs">hash</a><a href="/tags/task" class="btn btn-info btn-xs">task</a><a href="/tags/协程" class="btn btn-info btn-xs">协程</a><a href="/tags/skynet" class="btn btn-info btn-xs">skynet</a><a href="/tags/beansdb" class="btn btn-info btn-xs">beansdb</a><a href="/tags/actor模型" class="btn btn-info btn-xs">actor模型</a><a href="/tags/lease" class="btn btn-info btn-xs">lease</a><a href="/tags/paxos" class="btn btn-info btn-xs">paxos</a><a href="/tags/面试题" class="btn btn-info btn-xs">面试题</a><a href="/tags/linux" class="btn btn-info btn-xs">linux</a><a href="/tags/org-mode" class="btn btn-info btn-xs">org-mode</a><a href="/tags/blog" class="btn btn-info btn-xs">blog</a><a href="/tags/编码" class="btn btn-info btn-xs">编码</a><a href="/tags/java" class="btn btn-info btn-xs">java</a><a href="/tags/地图编辑器" class="btn btn-info btn-xs">地图编辑器</a><a href="/tags/关卡生成" class="btn btn-info btn-xs">关卡生成</a><a href="/tags/tiled" class="btn btn-info btn-xs">tiled</a><a href="/tags/primitive" class="btn btn-info btn-xs">primitive</a><a href="/tags/scheme" class="btn btn-info btn-xs">scheme</a><a href="/tags/petrescue" class="btn btn-info btn-xs">petrescue</a><a href="/tags/读书笔记" class="btn btn-info btn-xs">读书笔记</a><a href="/tags/eopl" class="btn btn-info btn-xs">eopl</a><a href="/tags/CAS" class="btn btn-info btn-xs">CAS</a><a href="/tags/无锁" class="btn btn-info btn-xs">无锁</a><a href="/tags/数据结构" class="btn btn-info btn-xs">数据结构</a><a href="/tags/FP" class="btn btn-info btn-xs">FP</a><a href="/tags/多值返回" class="btn btn-info btn-xs">多值返回</a><a href="/tags/lambda" class="btn btn-info btn-xs">lambda</a><a href="/tags/AssetManager" class="btn btn-info btn-xs">AssetManager</a><a href="/tags/libgdx" class="btn btn-info btn-xs">libgdx</a><a href="/tags/pprof" class="btn btn-info btn-xs">pprof</a><a href="/tags/微博数据分析" class="btn btn-info btn-xs">微博数据分析</a><a href="/tags/cdn" class="btn btn-info btn-xs">cdn</a><a href="/tags/云风" class="btn btn-info btn-xs">云风</a><a href="/tags/hive" class="btn btn-info btn-xs">hive</a><a href="/tags/调度器" class="btn btn-info btn-xs">调度器</a><a href="/tags/flash" class="btn btn-info btn-xs">flash</a><a href="/tags/planeshift" class="btn btn-info btn-xs">planeshift</a><a href="/tags/分段栈" class="btn btn-info btn-xs">分段栈</a><a href="/tags/terminal" class="btn btn-info btn-xs">terminal</a><a href="/tags/godit" class="btn btn-info btn-xs">godit</a><a href="/tags/转载" class="btn btn-info btn-xs">转载</a><a href="/tags/OpenGL" class="btn btn-info btn-xs">OpenGL</a><a href="/tags/年终总结" class="btn btn-info btn-xs">年终总结</a><a href="/tags/翻译" class="btn btn-info btn-xs">翻译</a><a href="/tags/facebook" class="btn btn-info btn-xs">facebook</a><a href="/tags/编程感悟" class="btn btn-info btn-xs">编程感悟</a><a href="/tags/架构" class="btn btn-info btn-xs">架构</a><a href="/tags/C" class="btn btn-info btn-xs">C</a><a href="/tags/CSP" class="btn btn-info btn-xs">CSP</a><a href="/tags/acme" class="btn btn-info btn-xs">acme</a><a href="/tags/编辑器" class="btn btn-info btn-xs">编辑器</a><a href="/tags/devdraw" class="btn btn-info btn-xs">devdraw</a><a href="/tags/mmorpg" class="btn btn-info btn-xs">mmorpg</a><a href="/tags/ouster" class="btn btn-info btn-xs">ouster</a><a href="/tags/一致性" class="btn btn-info btn-xs">一致性</a><a href="/tags/翻墙" class="btn btn-info btn-xs">翻墙</a><a href="/tags/n6bagent" class="btn btn-info btn-xs">n6bagent</a><a href="/tags/性能优化" class="btn btn-info btn-xs">性能优化</a><a href="/tags/继承" class="btn btn-info btn-xs">继承</a><a href="/tags/接口" class="btn btn-info btn-xs">接口</a><a href="/tags/DSP" class="btn btn-info btn-xs">DSP</a><a href="/tags/aerospike" class="btn btn-info btn-xs">aerospike</a><a href="/tags/kv" class="btn btn-info btn-xs">kv</a><a href="/tags/ssd" class="btn btn-info btn-xs">ssd</a><a href="/tags/raft" class="btn btn-info btn-xs">raft</a><a href="/tags/overcommit" class="btn btn-info btn-xs">overcommit</a><a href="/tags/nosql" class="btn btn-info btn-xs">nosql</a><a href="/tags/coroutine" class="btn btn-info btn-xs">coroutine</a><a href="/tags/plan9" class="btn btn-info btn-xs">plan9</a><a href="/tags/grt" class="btn btn-info btn-xs">grt</a><a href="/tags/database" class="btn btn-info btn-xs">database</a><a href="/tags/垃圾回收" class="btn btn-info btn-xs">垃圾回收</a><a href="/tags/lambda演算" class="btn btn-info btn-xs">lambda演算</a><a href="/tags/网络编程" class="btn btn-info btn-xs">网络编程</a><a href="/tags/epoll" class="btn btn-info btn-xs">epoll</a><a href="/tags/select" class="btn btn-info btn-xs">select</a><a href="/tags/io模型" class="btn btn-info btn-xs">io模型</a><a href="/tags/阻塞" class="btn btn-info btn-xs">阻塞</a><a href="/tags/同步" class="btn btn-info btn-xs">同步</a><a href="/tags/dynomite" class="btn btn-info btn-xs">dynomite</a><a href="/tags/session" class="btn btn-info btn-xs">session</a><a href="/tags/beego" class="btn btn-info btn-xs">beego</a><a href="/tags/codis" class="btn btn-info btn-xs">codis</a><a href="/tags/ycombinator" class="btn btn-info btn-xs">ycombinator</a><a href="/tags/热重启" class="btn btn-info btn-xs">热重启</a><a href="/tags/跳表" class="btn btn-info btn-xs">跳表</a><a href="/tags/skiplist" class="btn btn-info btn-xs">skiplist</a><a href="/tags/监控" class="btn btn-info btn-xs">监控</a><a href="/tags/zipkin" class="btn btn-info btn-xs">zipkin</a><a href="/tags/influxdb" class="btn btn-info btn-xs">influxdb</a><a href="/tags/heka" class="btn btn-info btn-xs">heka</a><a href="/tags/分布式跟踪" class="btn btn-info btn-xs">分布式跟踪</a><a href="/tags/bug" class="btn btn-info btn-xs">bug</a><a href="/tags/gorilla" class="btn btn-info btn-xs">gorilla</a><a href="/tags/middleware" class="btn btn-info btn-xs">middleware</a><a href="/tags/http" class="btn btn-info btn-xs">http</a><a href="/tags/object" class="btn btn-info btn-xs">object</a><a href="/tags/closure" class="btn btn-info btn-xs">closure</a><a href="/tags/nanopass" class="btn btn-info btn-xs">nanopass</a><a href="/tags/位运算" class="btn btn-info btn-xs">位运算</a><a href="/tags/swapcontext" class="btn btn-info btn-xs">swapcontext</a><a href="/tags/汇编" class="btn btn-info btn-xs">汇编</a><a href="/tags/trampoline" class="btn btn-info btn-xs">trampoline</a><a href="/tags/cps" class="btn btn-info btn-xs">cps</a><a href="/tags/continuation" class="btn btn-info btn-xs">continuation</a><a href="/tags/callback" class="btn btn-info btn-xs">callback</a><a href="/tags/closure-convert" class="btn btn-info btn-xs">closure-convert</a><a href="/tags/redis" class="btn btn-info btn-xs">redis</a><a href="/tags/逻辑时钟" class="btn btn-info btn-xs">逻辑时钟</a><a href="/tags/logical clock" class="btn btn-info btn-xs">logical clock</a><a href="/tags/服务发现" class="btn btn-info btn-xs">服务发现</a><a href="/tags/配置中心" class="btn btn-info btn-xs">配置中心</a><a href="/tags/chicken" class="btn btn-info btn-xs">chicken</a><a href="/tags/调试" class="btn btn-info btn-xs">调试</a><a href="/tags/VM" class="btn btn-info btn-xs">VM</a><a href="/tags/srfi-18" class="btn btn-info btn-xs">srfi-18</a><a href="/tags/call/cc" class="btn btn-info btn-xs">call/cc</a><a href="/tags/p2p" class="btn btn-info btn-xs">p2p</a><a href="/tags/delivery" class="btn btn-info btn-xs">delivery</a><a href="/tags/动态规划" class="btn btn-info btn-xs">动态规划</a><a href="/tags/网络" class="btn btn-info btn-xs">网络</a><a href="/tags/lua" class="btn btn-info btn-xs">lua</a><a href="/tags/sql" class="btn btn-info btn-xs">sql</a><a href="/tags/cockroachdb" class="btn btn-info btn-xs">cockroachdb</a><a href="/tags/isolation" class="btn btn-info btn-xs">isolation</a><a href="/tags/snapshot" class="btn btn-info btn-xs">snapshot</a><a href="/tags/serializable" class="btn btn-info btn-xs">serializable</a><a href="/tags/链表" class="btn btn-info btn-xs">链表</a><a href="/tags/ltask" class="btn btn-info btn-xs">ltask</a><a href="/tags/channel" class="btn btn-info btn-xs">channel</a><a href="/tags/leetcode" class="btn btn-info btn-xs">leetcode</a><a href="/tags/Rust" class="btn btn-info btn-xs">Rust</a><a href="/tags/socket" class="btn btn-info btn-xs">socket</a><a href="/tags/interpret" class="btn btn-info btn-xs">interpret</a><a href="/tags/可串行化" class="btn btn-info btn-xs">可串行化</a><a href="/tags/spanner" class="btn btn-info btn-xs">spanner</a><a href="/tags/分布式" class="btn btn-info btn-xs">分布式</a><a href="/tags/transaction" class="btn btn-info btn-xs">transaction</a><a href="/tags/SQL" class="btn btn-info btn-xs">SQL</a><a href="/tags/parser" class="btn btn-info btn-xs">parser</a><a href="/tags/内存池" class="btn btn-info btn-xs">内存池</a><a href="/tags/allocator" class="btn btn-info btn-xs">allocator</a><a href="/tags/combinator" class="btn btn-info btn-xs">combinator</a><a href="/tags/monad" class="btn btn-info btn-xs">monad</a><a href="/tags/ocaml" class="btn btn-info btn-xs">ocaml</a><a href="/tags/abstract machine" class="btn btn-info btn-xs">abstract machine</a><a href="/tags/ZINC" class="btn btn-info btn-xs">ZINC</a><a href="/tags/currying" class="btn btn-info btn-xs">currying</a><a href="/tags/type infer" class="btn btn-info btn-xs">type infer</a><a href="/tags/HM" class="btn btn-info btn-xs">HM</a><a href="/tags/类型系统" class="btn btn-info btn-xs">类型系统</a><a href="/tags/leak" class="btn btn-info btn-xs">leak</a><a href="/tags/reset" class="btn btn-info btn-xs">reset</a><a href="/tags/shift" class="btn btn-info btn-xs">shift</a><a href="/tags/delimited" class="btn btn-info btn-xs">delimited</a><a href="/tags/dectect" class="btn btn-info btn-xs">dectect</a><a href="/tags/race" class="btn btn-info btn-xs">race</a><a href="/tags/schema" class="btn btn-info btn-xs">schema</a><a href="/tags/hybrid logical clock" class="btn btn-info btn-xs">hybrid logical clock</a><a href="/tags/memory" class="btn btn-info btn-xs">memory</a><a href="/tags/TiDB" class="btn btn-info btn-xs">TiDB</a><a href="/tags/pattern match" class="btn btn-info btn-xs">pattern match</a><a href="/tags/shen" class="btn btn-info btn-xs">shen</a><a href="/tags/context" class="btn btn-info btn-xs">context</a><a href="/tags/缤果盒子" class="btn btn-info btn-xs">缤果盒子</a><a href="/tags/variant" class="btn btn-info btn-xs">variant</a><a href="/tags/pool" class="btn btn-info btn-xs">pool</a><a href="/tags/goroutine" class="btn btn-info btn-xs">goroutine</a><a href="/tags/morestack" class="btn btn-info btn-xs">morestack</a><a href="/tags/RC" class="btn btn-info btn-xs">RC</a><a href="/tags/SI" class="btn btn-info btn-xs">SI</a><a href="/tags/opentracing" class="btn btn-info btn-xs">opentracing</a><a href="/tags/klambda" class="btn btn-info btn-xs">klambda</a><a href="/tags/优化" class="btn btn-info btn-xs">优化</a><a href="/tags/Cello" class="btn btn-info btn-xs">Cello</a><a href="/tags/fat pointer" class="btn btn-info btn-xs">fat pointer</a><a href="/tags/eval" class="btn btn-info btn-xs">eval</a><a href="/tags/ddl" class="btn btn-info btn-xs">ddl</a><a href="/tags/codegen" class="btn btn-info btn-xs">codegen</a><a href="/tags/expression" class="btn btn-info btn-xs">expression</a><a href="/tags/erlang" class="btn btn-info btn-xs">erlang</a><a href="/tags/withcancel" class="btn btn-info btn-xs">withcancel</a><a href="/tags/constant propagate" class="btn btn-info btn-xs">constant propagate</a><a href="/tags/KISS" class="btn btn-info btn-xs">KISS</a><a href="/tags/性能" class="btn btn-info btn-xs">性能</a><a href="/tags/macro" class="btn btn-info btn-xs">macro</a><a href="/tags/hygiene" class="btn btn-info btn-xs">hygiene</a><a href="/tags/er-macro-transform" class="btn btn-info btn-xs">er-macro-transform</a><a href="/tags/cora" class="btn btn-info btn-xs">cora</a><a href="/tags/module" class="btn btn-info btn-xs">module</a><a href="/tags/错误处理" class="btn btn-info btn-xs">错误处理</a><a href="/tags/contract" class="btn btn-info btn-xs">contract</a><a href="/tags/union store" class="btn btn-info btn-xs">union store</a><a href="/tags/calvin" class="btn btn-info btn-xs">calvin</a><a href="/tags/bytecode" class="btn btn-info btn-xs">bytecode</a><a href="/tags/JVM" class="btn btn-info btn-xs">JVM</a><a href="/tags/aurora" class="btn btn-info btn-xs">aurora</a><a href="/tags/tidb" class="btn btn-info btn-xs">tidb</a><a href="/tags/vm" class="btn btn-info btn-xs">vm</a><a href="/tags/executor" class="btn btn-info btn-xs">executor</a><a href="/tags/covariance" class="btn btn-info btn-xs">covariance</a><a href="/tags/GC" class="btn btn-info btn-xs">GC</a><a href="/tags/oberon" class="btn btn-info btn-xs">oberon</a><a href="/tags/sysbench" class="btn btn-info btn-xs">sysbench</a><a href="/tags/effect" class="btn btn-info btn-xs">effect</a><a href="/tags/await" class="btn btn-info btn-xs">await</a><a href="/tags/async" class="btn btn-info btn-xs">async</a><a href="/tags/promise" class="btn btn-info btn-xs">promise</a><a href="/tags/interface" class="btn btn-info btn-xs">interface</a><a href="/tags/privilege" class="btn btn-info btn-xs">privilege</a><a href="/tags/test" class="btn btn-info btn-xs">test</a><a href="/tags/inferno" class="btn btn-info btn-xs">inferno</a><a href="/tags/microKanren" class="btn btn-info btn-xs">microKanren</a><a href="/tags/miniKanren" class="btn btn-info btn-xs">miniKanren</a><a href="/tags/zenlife" class="btn btn-info btn-xs">zenlife</a><a href="/tags/domain" class="btn btn-info btn-xs">domain</a><a href="/tags/HLC" class="btn btn-info btn-xs">HLC</a><a href="/tags/distributed" class="btn btn-info btn-xs">distributed</a><a href="/tags/deadlock" class="btn btn-info btn-xs">deadlock</a><a href="/tags/encrypt" class="btn btn-info btn-xs">encrypt</a><a href="/tags/authentication" class="btn btn-info btn-xs">authentication</a><a href="/tags/binlog" class="btn btn-info btn-xs">binlog</a><a href="/tags/probability" class="btn btn-info btn-xs">probability</a><a href="/tags/hotspot" class="btn btn-info btn-xs">hotspot</a><a href="/tags/makefile" class="btn btn-info btn-xs">makefile</a><a href="/tags/cache" class="btn btn-info btn-xs">cache</a><a href="/tags/ffi" class="btn btn-info btn-xs">ffi</a><a href="/tags/itx" class="btn btn-info btn-xs">itx</a><a href="/tags/prepare" class="btn btn-info btn-xs">prepare</a><a href="/tags/code review" class="btn btn-info btn-xs">code review</a><a href="/tags/darkeden" class="btn btn-info btn-xs">darkeden</a><a href="/tags/dependent" class="btn btn-info btn-xs">dependent</a><a href="/tags/type" class="btn btn-info btn-xs">type</a><a href="/tags/koka" class="btn btn-info btn-xs">koka</a><a href="/tags/引用计数" class="btn btn-info btn-xs">引用计数</a><a href="/tags/algebraic effect" class="btn btn-info btn-xs">algebraic effect</a><a href="/tags/RWMutex" class="btn btn-info btn-xs">RWMutex</a><a href="/tags/软件工程" class="btn btn-info btn-xs">软件工程</a><a href="/tags/开发环境" class="btn btn-info btn-xs">开发环境</a><a href="/tags/code generation" class="btn btn-info btn-xs">code generation</a><a href="/tags/CI" class="btn btn-info btn-xs">CI</a><a href="/tags/regex" class="btn btn-info btn-xs">regex</a><a href="/tags/PEG" class="btn btn-info btn-xs">PEG</a><a href="/tags/architecture" class="btn btn-info btn-xs">architecture</a><a href="/tags/cloud native" class="btn btn-info btn-xs">cloud native</a><a href="/tags/gambit" class="btn btn-info btn-xs">gambit</a><a href="/tags/ebpf" class="btn btn-info btn-xs">ebpf</a><a href="/tags/bpftrace" class="btn btn-info btn-xs">bpftrace</a><a href="/tags/流控" class="btn btn-info btn-xs">流控</a><a href="/tags/oom" class="btn btn-info btn-xs">oom</a><a href="/tags/severless" class="btn btn-info btn-xs">severless</a><a href="/tags/coprocessor" class="btn btn-info btn-xs">coprocessor</a><a href="/tags/treadmill" class="btn btn-info btn-xs">treadmill</a><a href="/tags/MVCC" class="btn btn-info btn-xs">MVCC</a><a href="/tags/hole digging" class="btn btn-info btn-xs">hole digging</a><a href="/tags/NAT" class="btn btn-info btn-xs">NAT</a><a href="/tags/reverse proxying" class="btn btn-info btn-xs">reverse proxying</a><a href="/tags/tunnel" class="btn btn-info btn-xs">tunnel</a><a href="/tags/累积分布函数" class="btn btn-info btn-xs">累积分布函数</a><a href="/tags/eCDF" class="btn btn-info btn-xs">eCDF</a><a href="/tags/SEDA" class="btn btn-info btn-xs">SEDA</a><a href="/tags/top-of-stack-caching" class="btn btn-info btn-xs">top-of-stack-caching</a><a href="/tags/exception" class="btn btn-info btn-xs">exception</a><a href="/tags/resumable" class="btn btn-info btn-xs">resumable</a><a href="/tags/string" class="btn btn-info btn-xs">string</a><a href="/tags/ActivityPub" class="btn btn-info btn-xs">ActivityPub</a><a href="/tags/mastodon" class="btn btn-info btn-xs">mastodon</a><a href="/tags/schedule" class="btn btn-info btn-xs">schedule</a><a href="/tags/concurrent" class="btn btn-info btn-xs">concurrent</a><a href="/tags/lru" class="btn btn-info btn-xs">lru</a><a href="/tags/scale" class="btn btn-info btn-xs">scale</a><a href="/tags/recursive" class="btn btn-info btn-xs">recursive</a><a href="/tags/patch" class="btn btn-info btn-xs">patch</a><a href="/tags/go" class="btn btn-info btn-xs">go</a><a href="/tags/bazel" class="btn btn-info btn-xs">bazel</a><a href="/tags/union scan" class="btn btn-info btn-xs">union scan</a><a href="/tags/technical debt" class="btn btn-info btn-xs">technical debt</a><a href="/tags/library" class="btn btn-info btn-xs">library</a><a href="/tags/framework" class="btn btn-info btn-xs">framework</a><a href="/tags/queueing delay" class="btn btn-info btn-xs">queueing delay</a><a href="/tags/queueing theory" class="btn btn-info btn-xs">queueing theory</a><a href="/tags/queueing" class="btn btn-info btn-xs">queueing</a><a href="/tags/threaded-code" class="btn btn-info btn-xs">threaded-code</a><a href="/tags/jit" class="btn btn-info btn-xs">jit</a><a href="/tags/copy-and-patch" class="btn btn-info btn-xs">copy-and-patch</a><a href="/tags/fips" class="btn btn-info btn-xs">fips</a><a href="/tags/delimited-continuation" class="btn btn-info btn-xs">delimited-continuation</a><a href="/tags/tailfication" class="btn btn-info btn-xs">tailfication</a><a href="/tags/clean code" class="btn btn-info btn-xs">clean code</a><a href="/tags/design" class="btn btn-info btn-xs">design</a><a href="/tags/AI" class="btn btn-info btn-xs">AI</a><a href="/tags/软件事务内存" class="btn btn-info btn-xs">软件事务内存</a><a href="/tags/STM" class="btn btn-info btn-xs">STM</a><a href="/tags/debugger" class="btn btn-info btn-xs">debugger</a><a href="/tags/namebase" class="btn btn-info btn-xs">namebase</a><a href="/tags/r7rs" class="btn btn-info btn-xs">r7rs</a><a href="/tags/namespace" class="btn btn-info btn-xs">namespace</a><a href="/tags/package" class="btn btn-info btn-xs">package</a><a href="/tags/mark-sweep" class="btn btn-info btn-xs">mark-sweep</a><a href="/tags/mostly-copying" class="btn btn-info btn-xs">mostly-copying</a><a href="/tags/tailcall" class="btn btn-info btn-xs">tailcall</a><a href="/tags/cml" class="btn btn-info btn-xs">cml</a><a href="/tags/type checker" class="btn btn-info btn-xs">type checker</a><a href="/tags/gc" class="btn btn-info btn-xs">gc</a><a href="/tags/am40" class="btn btn-info btn-xs">am40</a><a href="/tags/旁路由" class="btn btn-info btn-xs">旁路由</a><a href="/tags/nas" class="btn btn-info btn-xs">nas</a><a href="/tags/tracing" class="btn btn-info btn-xs">tracing</a><a href="/tags/multicore" class="btn btn-info btn-xs">multicore</a><a href="/tags/concurrency" class="btn btn-info btn-xs">concurrency</a><a href="/tags/rust" class="btn btn-info btn-xs">rust</a><a href="/tags/cranelift" class="btn btn-info btn-xs">cranelift</a><a href="/tags/c" class="btn btn-info btn-xs">c</a></div></div></div></div><hr /><footer><p class="nav navbar-nav navbar-right">Powered by <a href="https://clojure.org/">Clojure</a> &amp; <a href="//getbootstrap.com/">Bootstrap</a></p></footer></body></html>
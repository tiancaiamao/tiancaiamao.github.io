<html lang="zh_CN"><head><meta charset="utf-8" /><title>cora 0.4 release</title><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" /></head><body><div class="navbar navbar-inverse"><div class="container"><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href="/">Home</a></li><li><a href="/index">Blog</a></li><li><a href="/project">Project</a></li><li><a href="/about">About</a></li><li><a href="/feed.atom">Rss</a></li></ul></div></div></div><div class="container"><div class="row row-offcanvas row-offcanvas-right"><div class="col-sm-9"><div id="content"><h1 id="Title">cora 0.4 release</h1><p>2025-05-13</p><p><a href="cora-0.3.md">时隔半年</a>，I'm thrilled to announce 终于是时候发布 cora 的 <a href="https://github.com/tiancaiamao/cora/releases/tag/v0.4.0">0.4 版本</a>了。这是一个里程碑式的版本，这门语言的成熟度进一步提升。</p><p>其实目前的发版没有什么特别的规划，就是想到啥做啥，当积累了足够的变化之后，就发一个版本，并非按时间来发版本。为什么算一个里程碑式的版本？因为我之前说，等我能够用自己的语言实现自己的博客的时候，说明语言的成熟度已经差不多了，到时候就发布 1.0 版本。如今已经做到了一半，我的博客<a href="go-org-mode-blog.md">又</a><a href="chicken-scheme-practice2.md">双</a><a href="clojure-blog.md">叕</a>重写了，这次有一半是用 cora 实现的。</p><h2>博客重写</h2><p>博客重写我拆成了两部分，一部分是从 markdown 生成到 html，另一块是实现一个简单的静态 http 服务器。拆成两半来做可以简化复杂度，一步一步达成目标。目前从 markdown 到 html 是用 cora 实现的，而静态 http 服务器是用 rust 实现的。</p><p>具体的过程跟之前 clojure 版本实现的时候差不多，都是从 markdown 然后成 sxml 的模板语言(DSL)，然后再生成到 html。sxml 是非常适合作为 html 的 DSL 的，在 0.4 release 里面，解析 <a href="https://github.com/tiancaiamao/cora/tree/d90ad9e1604a2ea03327d95d436a77b0140b64ac/lib/md4c">markdown</a> 和 <a href="https://github.com/tiancaiamao/cora/blob/d90ad9e1604a2ea03327d95d436a77b0140b64ac/lib/sxml.cora">sxml</a> 的库都支持了。</p><p>至于 http 服务器部分用 rust 实现，是因为最近这阵我正在重新学习 rust，正好借这个机会练一练手。一个非常 impressive 的印象是，rust 语言是真快，快到没朋友。我能明显地感觉到这次重写之后的网站访问速度变快了，没有实测数据，就是体感上。
当然，除了语言的影响，这也跟实现策略有关，之前是来了一个 http 请求之后，clojure 动态去从 markdown 生成到 html 并渲染到客户端，而当前是直接读取静态的 html 文件。</p><p>博客重写改得比较急，还遗留了一些 bug，比如 rss 输出暂时没实现；博客文章里面的&quot;上一篇&quot; &quot;下一篇&quot; 这样的翻页按钮挂掉了；静态图版本的链接还没处理对；还有刚刚发现一个 url 里面出现中文就没法访问...都是小问题，等后面修修补补就可以处理掉。</p><p>最终我会把 http server 也完全用 cora 重写掉，估计就下次或者什么时候，这样就是完全用 cora 实现自己的博客了，不过感觉也不会发到 1.0 版本，只会到一个 0.x 的版本。因为 1.0 之后对语言的兼容性会有更高要求，就要尽量避免破坏性的改动了。在此之前的版本则可以快速推倒，或者说叫瞎 JB 改。</p><h2>版本的主要变化</h2><p>0.4 版本最大的变化主要是两处：<a href="cora-generational-gc.md">分代垃圾回收</a>，以及<a href="define-library.md">模块系统重新实现</a>，都已经分别写过博客了，细节就不展开了。这两处改动都是工作量比较大的，前者是因为正确性太难搞了，修修补补了好久才<a href="generation-gc-bugs.md">把 bug 都消灭掉</a>。后者一方面模块重实现本身的工作量，另一方面是需要修改之前所有已有模块到新的实现。</p><p>模块当前使用了关键字 package，而不是像 scheme 那样用 define-library。可能我更喜欢 Go 吧，用 package 关键字可以少打几个字。</p><pre><code>(package &quot;path/to/cora/file&quot;
  (import &quot;another/package&quot;)
  (export fact)
  (func fact
    0 =&gt; 1
    n =&gt; (* n (fact (- n 1))))
    )
</code></pre><p>值得一提的是，相对于前面的<a href="define-library.md">模块系统重新实现</a>那篇博客描述，我最终还是把模块系统完全做到了宏那一层，只不过是宏展开完毕之后，再追加一个 stage 去处理。这样的好处是在 kernel lambda 部分仍然保持极简。if do lambda let 几个 special forms，set 都不用是 special forms 而是函数，let 则是为了性能而加入到 special form 的。</p><p>对应的设计哲学是：cora 的上层语言是一门宏语言，提供便利的语法，是对接用户的；而底层是极简的 kernel lambda，对接编译器的。上层语言通过&quot;宏&quot;这样的机制来对接到底层语言。本质上就是 scheme 那套做法。即使 kernel lambda 重新实现，从用户语言到 kernel lambda 这一层还是完全可以重用。就像 shen 语言那样，它是可以对接到许多语言的。不过 cora 对于 kernel lambda 有一些要求：必须支持尾递归，必须支持 curry/partial apply。上层语言到下层语言的过程，虽说是通过宏来支持，但是更像是某种编译过程。cora 的宏不是&quot;卫生&quot;的，这一层的作用是 sexp 改写，更类似于 staged 编译。</p><p>其它的小的改动就比较不值得展开了，只列一下：</p><ul><li>REPL 里面，支持解释执行和编译执行的混合模式，解释和编译后的代码可以相互调用 <a href="https://github.com/tiancaiamao/cora/pull/107">#107</a></li><li>更新了 PEG 的库，改成了类似 parser combinator 形式</li><li>gensym 生成临时变量重新实现了 <a href="https://github.com/tiancaiamao/cora/pull/101">#101</a> <a href="https://github.com/tiancaiamao/cora/pull/104">#104</a></li><li>重新支持了将 cora 作为脚本运行</li><li>修复 lib/cml 调度器不是尾递归，导致内在泄漏和暴栈的问题 <a href="https://github.com/tiancaiamao/cora/pull/99">#99</a></li><li>添加了一个简单的 trace 功能 <a href="https://github.com/tiancaiamao/cora/pull/97">#97</a></li><li>cora 的栈对象使用 GC 托管的分配，也是为了处理泄漏 <a href="https://github.com/tiancaiamao/cora/pull/95">#95</a></li><li>支持分段栈而不是固定大小 <a href="https://github.com/tiancaiamao/cora/pull/94">#94</a></li><li>vector 添加了一个 capacity 字段</li><li>添加 json 库，sxml 库 <a href="https://github.com/tiancaiamao/cora/pull/90">#90</a><a href="https://github.com/tiancaiamao/cora/pull/69">#69</a>, markdown 库<a href="https://github.com/tiancaiamao/cora/pull/68">#68</a><a href="https://github.com/tiancaiamao/cora/pull/64">#64</a></li><li>将 car/cdr 等函数调用生成宏以优化性能 <a href="https://github.com/tiancaiamao/cora/pull/88">#88</a></li><li>重构C代码生成那边的最后的分组过程 <a href="https://github.com/tiancaiamao/cora/pull/82">#82</a></li><li>load 函数去掉了 pkg 参数 <a href="https://github.com/tiancaiamao/cora/pull/78">#78</a></li><li>字符串基础类型改名叫 bytes 类型了，不要跟 utf8 有误会 <a href="https://github.com/tiancaiamao/cora/pull/65">#65</a></li><li>gc 支持大对象(&gt;4K)分配 <a href="https://github.com/tiancaiamao/cora/pull/63">#63</a></li><li>Makefile 中提供 make fmt 来统一代码风格 <a href="https://github.com/tiancaiamao/cora/pull/62">#62</a></li><li>区分全局变量和全局符号，GC的时候只处理变量而不是处理整个符号空间 <a href="https://github.com/tiancaiamao/cora/pull/61">#61</a></li></ul><h2>测试加强</h2><ul><li>1 million coroutine 测试</li></ul><p>网上有一篇<a href="https://pkolaczk.github.io/memory-consumption-of-async/">文章</a>，测试不同的语言，支持 1M 的并发任务，需要多少内存。这激发了我的好奇心，如果在 <a href="https://github.com/tiancaiamao/cora/blob/d90ad9e1604a2ea03327d95d436a77b0140b64ac/test/benchmark/coroutine1m.cora">cora 中做这个测试</a>，结果是怎么样的？</p><p>cora 跟 Go 一样也是有栈协程，不过是分段栈而不是连续栈。初始的栈大小当前是 <a href="https://github.com/tiancaiamao/cora/blob/d90ad9e1604a2ea03327d95d436a77b0140b64ac/src/runtime.c#L31">254 对象</a>，在 64 位机器上每个对象是8字节，于是 254<em>8</em>1M 大约 2G，除了计算栈，还有返回地址的栈(continuation 的概念)，也会有一点点内存消耗。实际测试下来，在 cora 中 1M 的协程最终的内存消耗大约是 2.6G 的样子，跟 Go 语言相当。Go 语言 2K 的栈跟 254*8 其实差不多大小。为什么是 254 而不是 256，为什么不弄个整数？其实故意的，因为协程的栈内存现在也是从 GC 分配，而 GC 那边分配的对象大小会向上取整，然后还有对象头的结构的一点点消耗，如果正好超过 2048 就会导致向下一级 4096 分配，空间浪费极大。而如果故意用 254 而不是 256，则可以对应到 2048 这一级大小。非常关键，又非常小的一个点，直接让 1M 协程的内存代价在 5.3G 降到 2.6G。</p><ul><li>ping-pong 测试</li></ul><p>这个测试我折腾了好久才跑过，测试内容就是起两个 coroutine 通过 channel 不停地相互发送 ping pong，观察内存情况。
这个测试暴露了好多好多 GC 实现 bug 以及内存泄漏的问题。比如说发现了调度器那边不是尾递归，导致了 schedule 切换的时候栈大小会一直涨。最最最让我无语的是测试 case 本身写得有问题，导致 channel 消息队列一直堆积消息导致的内存无限涨，这个排查了好久。因为一直怀疑是 GC 那边的实现问题，以为是那边有什么东西分配了没释放或者有什么问题造成回收不掉。</p><ul><li><a href="https://github.com/tiancaiamao/cora/blob/d90ad9e1604a2ea03327d95d436a77b0140b64ac/test/benchmark/stackoverflow.cora">stackoverflow 测试</a></li></ul><p>在固定栈大小，并且没做分段栈之前，这个测试就过不了:</p><pre><code>(func f
      0 x =&gt; 0
      n x =&gt; (+ (f (- n 1) x) x))

;; test no stack overflow
(f 1000000 1)
</code></pre><p>实现分段栈之后也就修掉了。还是 ack 函数测试，之前跑不过，也是因为爆栈的。</p><p>这一波测试加强，让我对 GC 实现更有信心了。测试是需要重视起来的，不然等代码规模更大以后就维护不动了。当前是加了一些测试，不过还比较混乱，后续得把 CI 搞起来，提交代码要自动跑 CI，而不是自己手动去跑测试。题外话，我在 linux / mac 不同的系统上都有跑过 cora 的测试，并且也涉及不同的 cpu 架构，有 x86，有我的<a href="smart-am40.md">玩具 arm 机器</a>，也有 mac 的 m3，还有在 vps 那种虚拟环境，得益于 C 语言的良好跨平台性，cora 编译到 C 基本上在所有平台和系统上都跑得很欢快。</p><h2>后续畅想</h2><p>cora 0.4 版本已经得到了极大的增强，实际的证明就是至少博客有一半是用 cora 重写了。http server 部分需要的稳定性更高，需要一直跑着保证没有内存泄漏。然后涉及的库也更多，主要是 coroutine / network 这些，还需要继续完善。
后续版本中要处理的，这里想到的，随便记录一些：</p><ul><li>http服务器</li><li>partial evaluation</li><li>多核支持</li><li>补测试</li><li>gc的tuning</li><li>等等等</li></ul><p>partial evaluation 是一个很有意思的性能优化话题，<a href="https://wingolog.org/archives/2011/10/11/partial-evaluation-in-guile">guile 那边的博客</a>可以参考，包括里面推荐的 <a href="https://www.cs.utexas.edu/~wcook/tutorial/">Partial Evaluation Tutorial</a>，还有 Kent Dybvig 的 <a href="https://www.youtube.com/watch?v=LIEX3tUliHw">Macro-Writer's Bill of Rights</a> 视频也是学习材料。我还找到了一个 Marc Feely 的 <a href="https://www.cs.cmu.edu/Groups/AI/util/lang/scheme/code/eval/peval/peval.scm">peval 的代码</a>。</p><p><a href="cora-multicore-support.md">多核支持</a>之前也写过想法了，总体来说还是没想清楚，所以不急于实现。</p><p>GC 的tuning这块还是有空间的，我发现什么时候触发GC，要回收多少，minor 还是 major，等等等策略相关的东西，其重要性甚至不低于实现 GC 算法本身。另外，现在还有两个问题，一个是GC的回收只是回收到了 runtime，怎么样去归还给操作系统还没处理。另外就是关于并发，支持并发让我很抗拒，因为实现复杂度高了之后 hold 不住，但是重要性又很强，如果能想到好的方案，也不排除这块继续优化。</p></div><div><a href="/tags?name=blog" class="btn btn-info btn-xs">blog</a><a href="/tags?name=cora" class="btn btn-info btn-xs">cora</a><ul class="pager" /></div></div><div class="col-sm-3" id="sidebar" role="navigation"><div class="well sidebar-nav"><h2 id="nav-pills">Category</h2><ul class="nav nav-pills nav-stacked"><li><a href="/category?name=编译器">编译器</a></li><li><a href="/category?name=编程语言">编程语言</a></li><li><a href="/category?name=高性能服务器">高性能服务器</a></li><li><a href="/category?name=分布式">分布式</a></li><li><a href="/category?name=Android游戏开发">Android游戏开发</a></li></ul><h2 id="nav-pills">Tags</h2><a href="/tags?name=lisp" class="btn btn-info btn-xs">lisp</a><a href="/tags?name=源代码分析" class="btn btn-info btn-xs">源代码分析</a><a href="/tags?name=chibi-scheme" class="btn btn-info btn-xs">chibi-scheme</a><a href="/tags?name=golang" class="btn btn-info btn-xs">golang</a><a href="/tags?name=rbtree" class="btn btn-info btn-xs">rbtree</a><a href="/tags?name=mempool" class="btn btn-info btn-xs">mempool</a><a href="/tags?name=hash" class="btn btn-info btn-xs">hash</a><a href="/tags?name=task" class="btn btn-info btn-xs">task</a><a href="/tags?name=协程" class="btn btn-info btn-xs">协程</a><a href="/tags?name=skynet" class="btn btn-info btn-xs">skynet</a><a href="/tags?name=beansdb" class="btn btn-info btn-xs">beansdb</a><a href="/tags?name=actor模型" class="btn btn-info btn-xs">actor模型</a><a href="/tags?name=lease" class="btn btn-info btn-xs">lease</a><a href="/tags?name=paxos" class="btn btn-info btn-xs">paxos</a><a href="/tags?name=面试题" class="btn btn-info btn-xs">面试题</a><a href="/tags?name=linux" class="btn btn-info btn-xs">linux</a><a href="/tags?name=org-mode" class="btn btn-info btn-xs">org-mode</a><a href="/tags?name=blog" class="btn btn-info btn-xs">blog</a><a href="/tags?name=编码" class="btn btn-info btn-xs">编码</a><a href="/tags?name=java" class="btn btn-info btn-xs">java</a><a href="/tags?name=地图编辑器" class="btn btn-info btn-xs">地图编辑器</a><a href="/tags?name=关卡生成" class="btn btn-info btn-xs">关卡生成</a><a href="/tags?name=tiled" class="btn btn-info btn-xs">tiled</a><a href="/tags?name=primitive" class="btn btn-info btn-xs">primitive</a><a href="/tags?name=scheme" class="btn btn-info btn-xs">scheme</a><a href="/tags?name=petrescue" class="btn btn-info btn-xs">petrescue</a><a href="/tags?name=读书笔记" class="btn btn-info btn-xs">读书笔记</a><a href="/tags?name=eopl" class="btn btn-info btn-xs">eopl</a><a href="/tags?name=CAS" class="btn btn-info btn-xs">CAS</a><a href="/tags?name=无锁" class="btn btn-info btn-xs">无锁</a><a href="/tags?name=数据结构" class="btn btn-info btn-xs">数据结构</a><a href="/tags?name=FP" class="btn btn-info btn-xs">FP</a><a href="/tags?name=多值返回" class="btn btn-info btn-xs">多值返回</a><a href="/tags?name=lambda" class="btn btn-info btn-xs">lambda</a><a href="/tags?name=AssetManager" class="btn btn-info btn-xs">AssetManager</a><a href="/tags?name=libgdx" class="btn btn-info btn-xs">libgdx</a><a href="/tags?name=pprof" class="btn btn-info btn-xs">pprof</a><a href="/tags?name=微博数据分析" class="btn btn-info btn-xs">微博数据分析</a><a href="/tags?name=cdn" class="btn btn-info btn-xs">cdn</a><a href="/tags?name=云风" class="btn btn-info btn-xs">云风</a><a href="/tags?name=hive" class="btn btn-info btn-xs">hive</a><a href="/tags?name=调度器" class="btn btn-info btn-xs">调度器</a><a href="/tags?name=flash" class="btn btn-info btn-xs">flash</a><a href="/tags?name=planeshift" class="btn btn-info btn-xs">planeshift</a><a href="/tags?name=分段栈" class="btn btn-info btn-xs">分段栈</a><a href="/tags?name=terminal" class="btn btn-info btn-xs">terminal</a><a href="/tags?name=godit" class="btn btn-info btn-xs">godit</a><a href="/tags?name=转载" class="btn btn-info btn-xs">转载</a><a href="/tags?name=OpenGL" class="btn btn-info btn-xs">OpenGL</a><a href="/tags?name=年终总结" class="btn btn-info btn-xs">年终总结</a><a href="/tags?name=翻译" class="btn btn-info btn-xs">翻译</a><a href="/tags?name=facebook" class="btn btn-info btn-xs">facebook</a><a href="/tags?name=编程感悟" class="btn btn-info btn-xs">编程感悟</a><a href="/tags?name=架构" class="btn btn-info btn-xs">架构</a><a href="/tags?name=C" class="btn btn-info btn-xs">C</a><a href="/tags?name=CSP" class="btn btn-info btn-xs">CSP</a><a href="/tags?name=acme" class="btn btn-info btn-xs">acme</a><a href="/tags?name=编辑器" class="btn btn-info btn-xs">编辑器</a><a href="/tags?name=devdraw" class="btn btn-info btn-xs">devdraw</a><a href="/tags?name=mmorpg" class="btn btn-info btn-xs">mmorpg</a><a href="/tags?name=ouster" class="btn btn-info btn-xs">ouster</a><a href="/tags?name=一致性" class="btn btn-info btn-xs">一致性</a><a href="/tags?name=翻墙" class="btn btn-info btn-xs">翻墙</a><a href="/tags?name=n6bagent" class="btn btn-info btn-xs">n6bagent</a><a href="/tags?name=性能优化" class="btn btn-info btn-xs">性能优化</a><a href="/tags?name=继承" class="btn btn-info btn-xs">继承</a><a href="/tags?name=接口" class="btn btn-info btn-xs">接口</a><a href="/tags?name=DSP" class="btn btn-info btn-xs">DSP</a><a href="/tags?name=aerospike" class="btn btn-info btn-xs">aerospike</a><a href="/tags?name=kv" class="btn btn-info btn-xs">kv</a><a href="/tags?name=ssd" class="btn btn-info btn-xs">ssd</a><a href="/tags?name=raft" class="btn btn-info btn-xs">raft</a><a href="/tags?name=overcommit" class="btn btn-info btn-xs">overcommit</a><a href="/tags?name=nosql" class="btn btn-info btn-xs">nosql</a><a href="/tags?name=coroutine" class="btn btn-info btn-xs">coroutine</a><a href="/tags?name=plan9" class="btn btn-info btn-xs">plan9</a><a href="/tags?name=grt" class="btn btn-info btn-xs">grt</a><a href="/tags?name=database" class="btn btn-info btn-xs">database</a><a href="/tags?name=垃圾回收" class="btn btn-info btn-xs">垃圾回收</a><a href="/tags?name=lambda演算" class="btn btn-info btn-xs">lambda演算</a><a href="/tags?name=网络编程" class="btn btn-info btn-xs">网络编程</a><a href="/tags?name=epoll" class="btn btn-info btn-xs">epoll</a><a href="/tags?name=select" class="btn btn-info btn-xs">select</a><a href="/tags?name=io模型" class="btn btn-info btn-xs">io模型</a><a href="/tags?name=阻塞" class="btn btn-info btn-xs">阻塞</a><a href="/tags?name=同步" class="btn btn-info btn-xs">同步</a><a href="/tags?name=dynomite" class="btn btn-info btn-xs">dynomite</a><a href="/tags?name=session" class="btn btn-info btn-xs">session</a><a href="/tags?name=beego" class="btn btn-info btn-xs">beego</a><a href="/tags?name=codis" class="btn btn-info btn-xs">codis</a><a href="/tags?name=ycombinator" class="btn btn-info btn-xs">ycombinator</a><a href="/tags?name=热重启" class="btn btn-info btn-xs">热重启</a><a href="/tags?name=跳表" class="btn btn-info btn-xs">跳表</a><a href="/tags?name=skiplist" class="btn btn-info btn-xs">skiplist</a><a href="/tags?name=监控" class="btn btn-info btn-xs">监控</a><a href="/tags?name=zipkin" class="btn btn-info btn-xs">zipkin</a><a href="/tags?name=influxdb" class="btn btn-info btn-xs">influxdb</a><a href="/tags?name=heka" class="btn btn-info btn-xs">heka</a><a href="/tags?name=分布式跟踪" class="btn btn-info btn-xs">分布式跟踪</a><a href="/tags?name=bug" class="btn btn-info btn-xs">bug</a><a href="/tags?name=gorilla" class="btn btn-info btn-xs">gorilla</a><a href="/tags?name=middleware" class="btn btn-info btn-xs">middleware</a><a href="/tags?name=http" class="btn btn-info btn-xs">http</a><a href="/tags?name=object" class="btn btn-info btn-xs">object</a><a href="/tags?name=closure" class="btn btn-info btn-xs">closure</a><a href="/tags?name=nanopass" class="btn btn-info btn-xs">nanopass</a><a href="/tags?name=位运算" class="btn btn-info btn-xs">位运算</a><a href="/tags?name=swapcontext" class="btn btn-info btn-xs">swapcontext</a><a href="/tags?name=汇编" class="btn btn-info btn-xs">汇编</a><a href="/tags?name=trampoline" class="btn btn-info btn-xs">trampoline</a><a href="/tags?name=cps" class="btn btn-info btn-xs">cps</a><a href="/tags?name=continuation" class="btn btn-info btn-xs">continuation</a><a href="/tags?name=callback" class="btn btn-info btn-xs">callback</a><a href="/tags?name=closure-convert" class="btn btn-info btn-xs">closure-convert</a><a href="/tags?name=redis" class="btn btn-info btn-xs">redis</a><a href="/tags?name=逻辑时钟" class="btn btn-info btn-xs">逻辑时钟</a><a href="/tags?name=logical clock" class="btn btn-info btn-xs">logical clock</a><a href="/tags?name=服务发现" class="btn btn-info btn-xs">服务发现</a><a href="/tags?name=配置中心" class="btn btn-info btn-xs">配置中心</a><a href="/tags?name=chicken" class="btn btn-info btn-xs">chicken</a><a href="/tags?name=调试" class="btn btn-info btn-xs">调试</a><a href="/tags?name=VM" class="btn btn-info btn-xs">VM</a><a href="/tags?name=srfi-18" class="btn btn-info btn-xs">srfi-18</a><a href="/tags?name=call/cc" class="btn btn-info btn-xs">call/cc</a><a href="/tags?name=p2p" class="btn btn-info btn-xs">p2p</a><a href="/tags?name=delivery" class="btn btn-info btn-xs">delivery</a><a href="/tags?name=动态规划" class="btn btn-info btn-xs">动态规划</a><a href="/tags?name=网络" class="btn btn-info btn-xs">网络</a><a href="/tags?name=lua" class="btn btn-info btn-xs">lua</a><a href="/tags?name=sql" class="btn btn-info btn-xs">sql</a><a href="/tags?name=cockroachdb" class="btn btn-info btn-xs">cockroachdb</a><a href="/tags?name=isolation" class="btn btn-info btn-xs">isolation</a><a href="/tags?name=snapshot" class="btn btn-info btn-xs">snapshot</a><a href="/tags?name=serializable" class="btn btn-info btn-xs">serializable</a><a href="/tags?name=链表" class="btn btn-info btn-xs">链表</a><a href="/tags?name=ltask" class="btn btn-info btn-xs">ltask</a><a href="/tags?name=channel" class="btn btn-info btn-xs">channel</a><a href="/tags?name=leetcode" class="btn btn-info btn-xs">leetcode</a><a href="/tags?name=Rust" class="btn btn-info btn-xs">Rust</a><a href="/tags?name=socket" class="btn btn-info btn-xs">socket</a><a href="/tags?name=interpret" class="btn btn-info btn-xs">interpret</a><a href="/tags?name=可串行化" class="btn btn-info btn-xs">可串行化</a><a href="/tags?name=spanner" class="btn btn-info btn-xs">spanner</a><a href="/tags?name=分布式" class="btn btn-info btn-xs">分布式</a><a href="/tags?name=transaction" class="btn btn-info btn-xs">transaction</a><a href="/tags?name=SQL" class="btn btn-info btn-xs">SQL</a><a href="/tags?name=parser" class="btn btn-info btn-xs">parser</a><a href="/tags?name=内存池" class="btn btn-info btn-xs">内存池</a><a href="/tags?name=allocator" class="btn btn-info btn-xs">allocator</a><a href="/tags?name=combinator" class="btn btn-info btn-xs">combinator</a><a href="/tags?name=monad" class="btn btn-info btn-xs">monad</a><a href="/tags?name=ocaml" class="btn btn-info btn-xs">ocaml</a><a href="/tags?name=abstract machine" class="btn btn-info btn-xs">abstract machine</a><a href="/tags?name=ZINC" class="btn btn-info btn-xs">ZINC</a><a href="/tags?name=currying" class="btn btn-info btn-xs">currying</a><a href="/tags?name=type infer" class="btn btn-info btn-xs">type infer</a><a href="/tags?name=HM" class="btn btn-info btn-xs">HM</a><a href="/tags?name=类型系统" class="btn btn-info btn-xs">类型系统</a><a href="/tags?name=leak" class="btn btn-info btn-xs">leak</a><a href="/tags?name=reset" class="btn btn-info btn-xs">reset</a><a href="/tags?name=shift" class="btn btn-info btn-xs">shift</a><a href="/tags?name=delimited" class="btn btn-info btn-xs">delimited</a><a href="/tags?name=dectect" class="btn btn-info btn-xs">dectect</a><a href="/tags?name=race" class="btn btn-info btn-xs">race</a><a href="/tags?name=schema" class="btn btn-info btn-xs">schema</a><a href="/tags?name=hybrid logical clock" class="btn btn-info btn-xs">hybrid logical clock</a><a href="/tags?name=memory" class="btn btn-info btn-xs">memory</a><a href="/tags?name=TiDB" class="btn btn-info btn-xs">TiDB</a><a href="/tags?name=pattern match" class="btn btn-info btn-xs">pattern match</a><a href="/tags?name=shen" class="btn btn-info btn-xs">shen</a><a href="/tags?name=context" class="btn btn-info btn-xs">context</a><a href="/tags?name=缤果盒子" class="btn btn-info btn-xs">缤果盒子</a><a href="/tags?name=variant" class="btn btn-info btn-xs">variant</a><a href="/tags?name=pool" class="btn btn-info btn-xs">pool</a><a href="/tags?name=goroutine" class="btn btn-info btn-xs">goroutine</a><a href="/tags?name=morestack" class="btn btn-info btn-xs">morestack</a><a href="/tags?name=RC" class="btn btn-info btn-xs">RC</a><a href="/tags?name=SI" class="btn btn-info btn-xs">SI</a><a href="/tags?name=opentracing" class="btn btn-info btn-xs">opentracing</a><a href="/tags?name=klambda" class="btn btn-info btn-xs">klambda</a><a href="/tags?name=优化" class="btn btn-info btn-xs">优化</a><a href="/tags?name=Cello" class="btn btn-info btn-xs">Cello</a><a href="/tags?name=fat pointer" class="btn btn-info btn-xs">fat pointer</a><a href="/tags?name=eval" class="btn btn-info btn-xs">eval</a><a href="/tags?name=ddl" class="btn btn-info btn-xs">ddl</a><a href="/tags?name=codegen" class="btn btn-info btn-xs">codegen</a><a href="/tags?name=expression" class="btn btn-info btn-xs">expression</a><a href="/tags?name=erlang" class="btn btn-info btn-xs">erlang</a><a href="/tags?name=withcancel" class="btn btn-info btn-xs">withcancel</a><a href="/tags?name=constant propagate" class="btn btn-info btn-xs">constant propagate</a><a href="/tags?name=KISS" class="btn btn-info btn-xs">KISS</a><a href="/tags?name=性能" class="btn btn-info btn-xs">性能</a><a href="/tags?name=macro" class="btn btn-info btn-xs">macro</a><a href="/tags?name=hygiene" class="btn btn-info btn-xs">hygiene</a><a href="/tags?name=er-macro-transform" class="btn btn-info btn-xs">er-macro-transform</a><a href="/tags?name=cora" class="btn btn-info btn-xs">cora</a><a href="/tags?name=module" class="btn btn-info btn-xs">module</a><a href="/tags?name=错误处理" class="btn btn-info btn-xs">错误处理</a><a href="/tags?name=contract" class="btn btn-info btn-xs">contract</a><a href="/tags?name=union store" class="btn btn-info btn-xs">union store</a><a href="/tags?name=calvin" class="btn btn-info btn-xs">calvin</a><a href="/tags?name=bytecode" class="btn btn-info btn-xs">bytecode</a><a href="/tags?name=JVM" class="btn btn-info btn-xs">JVM</a><a href="/tags?name=aurora" class="btn btn-info btn-xs">aurora</a><a href="/tags?name=tidb" class="btn btn-info btn-xs">tidb</a><a href="/tags?name=vm" class="btn btn-info btn-xs">vm</a><a href="/tags?name=executor" class="btn btn-info btn-xs">executor</a><a href="/tags?name=covariance" class="btn btn-info btn-xs">covariance</a><a href="/tags?name=GC" class="btn btn-info btn-xs">GC</a><a href="/tags?name=oberon" class="btn btn-info btn-xs">oberon</a><a href="/tags?name=sysbench" class="btn btn-info btn-xs">sysbench</a><a href="/tags?name=effect" class="btn btn-info btn-xs">effect</a><a href="/tags?name=await" class="btn btn-info btn-xs">await</a><a href="/tags?name=async" class="btn btn-info btn-xs">async</a><a href="/tags?name=promise" class="btn btn-info btn-xs">promise</a><a href="/tags?name=interface" class="btn btn-info btn-xs">interface</a><a href="/tags?name=privilege" class="btn btn-info btn-xs">privilege</a><a href="/tags?name=test" class="btn btn-info btn-xs">test</a><a href="/tags?name=inferno" class="btn btn-info btn-xs">inferno</a><a href="/tags?name=microKanren" class="btn btn-info btn-xs">microKanren</a><a href="/tags?name=miniKanren" class="btn btn-info btn-xs">miniKanren</a><a href="/tags?name=zenlife" class="btn btn-info btn-xs">zenlife</a><a href="/tags?name=domain" class="btn btn-info btn-xs">domain</a><a href="/tags?name=HLC" class="btn btn-info btn-xs">HLC</a><a href="/tags?name=distributed" class="btn btn-info btn-xs">distributed</a><a href="/tags?name=deadlock" class="btn btn-info btn-xs">deadlock</a><a href="/tags?name=encrypt" class="btn btn-info btn-xs">encrypt</a><a href="/tags?name=authentication" class="btn btn-info btn-xs">authentication</a><a href="/tags?name=binlog" class="btn btn-info btn-xs">binlog</a><a href="/tags?name=probability" class="btn btn-info btn-xs">probability</a><a href="/tags?name=hotspot" class="btn btn-info btn-xs">hotspot</a><a href="/tags?name=makefile" class="btn btn-info btn-xs">makefile</a><a href="/tags?name=cache" class="btn btn-info btn-xs">cache</a><a href="/tags?name=ffi" class="btn btn-info btn-xs">ffi</a><a href="/tags?name=itx" class="btn btn-info btn-xs">itx</a><a href="/tags?name=prepare" class="btn btn-info btn-xs">prepare</a><a href="/tags?name=code review" class="btn btn-info btn-xs">code review</a><a href="/tags?name=darkeden" class="btn btn-info btn-xs">darkeden</a><a href="/tags?name=dependent" class="btn btn-info btn-xs">dependent</a><a href="/tags?name=type" class="btn btn-info btn-xs">type</a><a href="/tags?name=koka" class="btn btn-info btn-xs">koka</a><a href="/tags?name=引用计数" class="btn btn-info btn-xs">引用计数</a><a href="/tags?name=algebraic effect" class="btn btn-info btn-xs">algebraic effect</a><a href="/tags?name=RWMutex" class="btn btn-info btn-xs">RWMutex</a><a href="/tags?name=软件工程" class="btn btn-info btn-xs">软件工程</a><a href="/tags?name=开发环境" class="btn btn-info btn-xs">开发环境</a><a href="/tags?name=code generation" class="btn btn-info btn-xs">code generation</a><a href="/tags?name=CI" class="btn btn-info btn-xs">CI</a><a href="/tags?name=regex" class="btn btn-info btn-xs">regex</a><a href="/tags?name=PEG" class="btn btn-info btn-xs">PEG</a><a href="/tags?name=architecture" class="btn btn-info btn-xs">architecture</a><a href="/tags?name=cloud native" class="btn btn-info btn-xs">cloud native</a><a href="/tags?name=gambit" class="btn btn-info btn-xs">gambit</a><a href="/tags?name=ebpf" class="btn btn-info btn-xs">ebpf</a><a href="/tags?name=bpftrace" class="btn btn-info btn-xs">bpftrace</a><a href="/tags?name=流控" class="btn btn-info btn-xs">流控</a><a href="/tags?name=oom" class="btn btn-info btn-xs">oom</a><a href="/tags?name=severless" class="btn btn-info btn-xs">severless</a><a href="/tags?name=coprocessor" class="btn btn-info btn-xs">coprocessor</a><a href="/tags?name=treadmill" class="btn btn-info btn-xs">treadmill</a><a href="/tags?name=MVCC" class="btn btn-info btn-xs">MVCC</a><a href="/tags?name=hole digging" class="btn btn-info btn-xs">hole digging</a><a href="/tags?name=NAT" class="btn btn-info btn-xs">NAT</a><a href="/tags?name=reverse proxying" class="btn btn-info btn-xs">reverse proxying</a><a href="/tags?name=tunnel" class="btn btn-info btn-xs">tunnel</a><a href="/tags?name=累积分布函数" class="btn btn-info btn-xs">累积分布函数</a><a href="/tags?name=eCDF" class="btn btn-info btn-xs">eCDF</a><a href="/tags?name=SEDA" class="btn btn-info btn-xs">SEDA</a><a href="/tags?name=top-of-stack-caching" class="btn btn-info btn-xs">top-of-stack-caching</a><a href="/tags?name=exception" class="btn btn-info btn-xs">exception</a><a href="/tags?name=resumable" class="btn btn-info btn-xs">resumable</a><a href="/tags?name=string" class="btn btn-info btn-xs">string</a><a href="/tags?name=ActivityPub" class="btn btn-info btn-xs">ActivityPub</a><a href="/tags?name=mastodon" class="btn btn-info btn-xs">mastodon</a><a href="/tags?name=schedule" class="btn btn-info btn-xs">schedule</a><a href="/tags?name=concurrent" class="btn btn-info btn-xs">concurrent</a><a href="/tags?name=lru" class="btn btn-info btn-xs">lru</a><a href="/tags?name=scale" class="btn btn-info btn-xs">scale</a><a href="/tags?name=recursive" class="btn btn-info btn-xs">recursive</a><a href="/tags?name=patch" class="btn btn-info btn-xs">patch</a><a href="/tags?name=go" class="btn btn-info btn-xs">go</a><a href="/tags?name=bazel" class="btn btn-info btn-xs">bazel</a><a href="/tags?name=union scan" class="btn btn-info btn-xs">union scan</a><a href="/tags?name=technical debt" class="btn btn-info btn-xs">technical debt</a><a href="/tags?name=library" class="btn btn-info btn-xs">library</a><a href="/tags?name=framework" class="btn btn-info btn-xs">framework</a><a href="/tags?name=queueing delay" class="btn btn-info btn-xs">queueing delay</a><a href="/tags?name=queueing theory" class="btn btn-info btn-xs">queueing theory</a><a href="/tags?name=queueing" class="btn btn-info btn-xs">queueing</a><a href="/tags?name=threaded-code" class="btn btn-info btn-xs">threaded-code</a><a href="/tags?name=jit" class="btn btn-info btn-xs">jit</a><a href="/tags?name=copy-and-patch" class="btn btn-info btn-xs">copy-and-patch</a><a href="/tags?name=fips" class="btn btn-info btn-xs">fips</a><a href="/tags?name=delimited-continuation" class="btn btn-info btn-xs">delimited-continuation</a><a href="/tags?name=tailfication" class="btn btn-info btn-xs">tailfication</a><a href="/tags?name=clean code" class="btn btn-info btn-xs">clean code</a><a href="/tags?name=design" class="btn btn-info btn-xs">design</a><a href="/tags?name=AI" class="btn btn-info btn-xs">AI</a><a href="/tags?name=软件事务内存" class="btn btn-info btn-xs">软件事务内存</a><a href="/tags?name=STM" class="btn btn-info btn-xs">STM</a><a href="/tags?name=debugger" class="btn btn-info btn-xs">debugger</a><a href="/tags?name=namebase" class="btn btn-info btn-xs">namebase</a><a href="/tags?name=r7rs" class="btn btn-info btn-xs">r7rs</a><a href="/tags?name=namespace" class="btn btn-info btn-xs">namespace</a><a href="/tags?name=package" class="btn btn-info btn-xs">package</a><a href="/tags?name=mark-sweep" class="btn btn-info btn-xs">mark-sweep</a><a href="/tags?name=mostly-copying" class="btn btn-info btn-xs">mostly-copying</a><a href="/tags?name=tailcall" class="btn btn-info btn-xs">tailcall</a><a href="/tags?name=cml" class="btn btn-info btn-xs">cml</a><a href="/tags?name=type checker" class="btn btn-info btn-xs">type checker</a><a href="/tags?name=gc" class="btn btn-info btn-xs">gc</a><a href="/tags?name=am40" class="btn btn-info btn-xs">am40</a><a href="/tags?name=旁路由" class="btn btn-info btn-xs">旁路由</a><a href="/tags?name=nas" class="btn btn-info btn-xs">nas</a><a href="/tags?name=tracing" class="btn btn-info btn-xs">tracing</a><a href="/tags?name=multicore" class="btn btn-info btn-xs">multicore</a><a href="/tags?name=concurrency" class="btn btn-info btn-xs">concurrency</a><a href="/tags?name=rust" class="btn btn-info btn-xs">rust</a><a href="/tags?name=cranelift" class="btn btn-info btn-xs">cranelift</a></div></div></div></div><hr /><footer><p class="nav navbar-nav navbar-right">Powered by <a href="https://clojure.org/">Clojure</a> &amp; <a href="//getbootstrap.com/">Bootstrap</a></p></footer></body></html>